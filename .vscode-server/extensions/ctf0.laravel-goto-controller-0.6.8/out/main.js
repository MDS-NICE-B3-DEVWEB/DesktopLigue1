var v_=Object.create;var _t=Object.defineProperty;var P_=Object.getOwnPropertyDescriptor;var U_=Object.getOwnPropertyNames;var F_=Object.getPrototypeOf,M_=Object.prototype.hasOwnProperty;var h=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),B_=(t,e)=>{for(var i in e)_t(t,i,{get:e[i],enumerable:!0})},He=(t,e,i,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of U_(e))!M_.call(t,n)&&n!==i&&_t(t,n,{get:()=>e[n],enumerable:!(s=P_(e,n))||s.enumerable});return t};var A=(t,e,i)=>(i=t!=null?v_(F_(t)):{},He(e||!t||!t.__esModule?_t(i,"default",{value:t,enumerable:!0}):i,t)),q_=t=>He(_t({},"__esModule",{value:!0}),t);var Bt=h((xT,Ve)=>{var G_="Expected a function",Ke=NaN,H_="[object Symbol]",K_=/^\s+|\s+$/g,$_=/^[-+]0x[0-9a-f]+$/i,V_=/^0b[01]+$/i,W_=/^0o[0-7]+$/i,Q_=parseInt,Y_=typeof global=="object"&&global&&global.Object===Object&&global,j_=typeof self=="object"&&self&&self.Object===Object&&self,z_=Y_||j_||Function("return this")(),X_=Object.prototype,J_=X_.toString,Z_=Math.max,tp=Math.min,Ft=function(){return z_.Date.now()};function ep(t,e,i){var s,n,r,o,a,c,l=0,u=!1,_=!1,f=!0;if(typeof t!="function")throw new TypeError(G_);e=$e(e)||0,Mt(i)&&(u=!!i.leading,_="maxWait"in i,r=_?Z_($e(i.maxWait)||0,e):r,f="trailing"in i?!!i.trailing:f);function p(E){var b=s,z=n;return s=n=void 0,l=E,o=t.apply(z,b),o}function k(E){return l=E,a=setTimeout(w,e),u?p(E):o}function L(E){var b=E-c,z=E-l,Ge=e-b;return _?tp(Ge,r-z):Ge}function D(E){var b=E-c,z=E-l;return c===void 0||b>=e||b<0||_&&z>=r}function w(){var E=Ft();if(D(E))return B(E);a=setTimeout(w,L(E))}function B(E){return a=void 0,f&&s?p(E):(s=n=void 0,o)}function K(){a!==void 0&&clearTimeout(a),l=0,s=c=n=a=void 0}function ft(){return a===void 0?o:B(Ft())}function $(){var E=Ft(),b=D(E);if(s=arguments,n=this,c=E,b){if(a===void 0)return k(c);if(_)return a=setTimeout(w,e),p(c)}return a===void 0&&(a=setTimeout(w,e)),o}return $.cancel=K,$.flush=ft,$}function Mt(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function ip(t){return!!t&&typeof t=="object"}function sp(t){return typeof t=="symbol"||ip(t)&&J_.call(t)==H_}function $e(t){if(typeof t=="number")return t;if(sp(t))return Ke;if(Mt(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Mt(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(K_,"");var i=V_.test(t);return i||W_.test(t)?Q_(t.slice(2),i?2:8):$_.test(t)?Ke:+t}Ve.exports=ep});var ze=h((ET,je)=>{je.exports=Ye;Ye.sync=rp;var We=require("fs");function np(t,e){var i=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!i||(i=i.split(";"),i.indexOf("")!==-1))return!0;for(var s=0;s<i.length;s++){var n=i[s].toLowerCase();if(n&&t.substr(-n.length).toLowerCase()===n)return!0}return!1}function Qe(t,e,i){return!t.isSymbolicLink()&&!t.isFile()?!1:np(e,i)}function Ye(t,e,i){We.stat(t,function(s,n){i(s,s?!1:Qe(n,t,e))})}function rp(t,e){return Qe(We.statSync(t),t,e)}});var ei=h((mT,ti)=>{ti.exports=Je;Je.sync=op;var Xe=require("fs");function Je(t,e,i){Xe.stat(t,function(s,n){i(s,s?!1:Ze(n,e))})}function op(t,e){return Ze(Xe.statSync(t),e)}function Ze(t,e){return t.isFile()&&hp(t,e)}function hp(t,e){var i=t.mode,s=t.uid,n=t.gid,r=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),o=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),l=parseInt("001",8),u=a|c,_=i&l||i&c&&n===o||i&a&&s===r||i&u&&r===0;return _}});var si=h((AT,ii)=>{var yT=require("fs"),pt;process.platform==="win32"||global.TESTING_WINDOWS?pt=ze():pt=ei();ii.exports=qt;qt.sync=ap;function qt(t,e,i){if(typeof e=="function"&&(i=e,e={}),!i){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(s,n){qt(t,e||{},function(r,o){r?n(r):s(o)})})}pt(t,e||{},function(s,n){s&&(s.code==="EACCES"||e&&e.ignoreErrors)&&(s=null,n=!1),i(s,n)})}function ap(t,e){try{return pt.sync(t,e||{})}catch(i){if(e&&e.ignoreErrors||i.code==="EACCES")return!1;throw i}}});var li=h((IT,ci)=>{var W=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",ni=require("path"),cp=W?";":":",ri=si(),oi=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),hi=(t,e)=>{let i=e.colon||cp,s=t.match(/\//)||W&&t.match(/\\/)?[""]:[...W?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(i)],n=W?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",r=W?n.split(i):[""];return W&&t.indexOf(".")!==-1&&r[0]!==""&&r.unshift(""),{pathEnv:s,pathExt:r,pathExtExe:n}},ai=(t,e,i)=>{typeof e=="function"&&(i=e,e={}),e||(e={});let{pathEnv:s,pathExt:n,pathExtExe:r}=hi(t,e),o=[],a=l=>new Promise((u,_)=>{if(l===s.length)return e.all&&o.length?u(o):_(oi(t));let f=s[l],p=/^".*"$/.test(f)?f.slice(1,-1):f,k=ni.join(p,t),L=!p&&/^\.[\\\/]/.test(t)?t.slice(0,2)+k:k;u(c(L,l,0))}),c=(l,u,_)=>new Promise((f,p)=>{if(_===n.length)return f(a(u+1));let k=n[_];ri(l+k,{pathExt:r},(L,D)=>{if(!L&&D)if(e.all)o.push(l+k);else return f(l+k);return f(c(l,u,_+1))})});return i?a(0).then(l=>i(null,l),i):a(0)},lp=(t,e)=>{e=e||{};let{pathEnv:i,pathExt:s,pathExtExe:n}=hi(t,e),r=[];for(let o=0;o<i.length;o++){let a=i[o],c=/^".*"$/.test(a)?a.slice(1,-1):a,l=ni.join(c,t),u=!c&&/^\.[\\\/]/.test(t)?t.slice(0,2)+l:l;for(let _=0;_<s.length;_++){let f=u+s[_];try{if(ri.sync(f,{pathExt:n}))if(e.all)r.push(f);else return f}catch{}}}if(e.all&&r.length)return r;if(e.nothrow)return null;throw oi(t)};ci.exports=ai;ai.sync=lp});var fi=h((NT,Gt)=>{"use strict";var ui=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"};Gt.exports=ui;Gt.exports.default=ui});var Ti=h((ST,di)=>{"use strict";var _i=require("path"),up=li(),fp=fi();function pi(t,e){let i=t.options.env||process.env,s=process.cwd(),n=t.options.cwd!=null,r=n&&process.chdir!==void 0&&!process.chdir.disabled;if(r)try{process.chdir(t.options.cwd)}catch{}let o;try{o=up.sync(t.command,{path:i[fp({env:i})],pathExt:e?_i.delimiter:void 0})}catch{}finally{r&&process.chdir(s)}return o&&(o=_i.resolve(n?t.options.cwd:"",o)),o}function _p(t){return pi(t)||pi(t,!0)}di.exports=_p});var xi=h((CT,Kt)=>{"use strict";var Ht=/([()\][%!^"`<>&|;, *?])/g;function pp(t){return t=t.replace(Ht,"^$1"),t}function dp(t,e){return t=`${t}`,t=t.replace(/(\\*)"/g,'$1$1\\"'),t=t.replace(/(\\*)$/,"$1$1"),t=`"${t}"`,t=t.replace(Ht,"^$1"),e&&(t=t.replace(Ht,"^$1")),t}Kt.exports.command=pp;Kt.exports.argument=dp});var Ei=h((LT,ki)=>{"use strict";ki.exports=/^#!(.*)/});var yi=h((bT,mi)=>{"use strict";var Tp=Ei();mi.exports=(t="")=>{let e=t.match(Tp);if(!e)return null;let[i,s]=e[0].replace(/#! ?/,"").split(" "),n=i.split("/").pop();return n==="env"?s:s?`${n} ${s}`:n}});var Ii=h((gT,Ai)=>{"use strict";var $t=require("fs"),xp=yi();function kp(t){let i=Buffer.alloc(150),s;try{s=$t.openSync(t,"r"),$t.readSync(s,i,0,150,0),$t.closeSync(s)}catch{}return xp(i.toString())}Ai.exports=kp});var Li=h((RT,Ci)=>{"use strict";var Ep=require("path"),Ni=Ti(),Si=xi(),mp=Ii(),yp=process.platform==="win32",Ap=/\.(?:com|exe)$/i,Ip=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function Np(t){t.file=Ni(t);let e=t.file&&mp(t.file);return e?(t.args.unshift(t.file),t.command=e,Ni(t)):t.file}function Sp(t){if(!yp)return t;let e=Np(t),i=!Ap.test(e);if(t.options.forceShell||i){let s=Ip.test(e);t.command=Ep.normalize(t.command),t.command=Si.command(t.command),t.args=t.args.map(r=>Si.argument(r,s));let n=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${n}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function Cp(t,e,i){e&&!Array.isArray(e)&&(i=e,e=null),e=e?e.slice(0):[],i=Object.assign({},i);let s={command:t,args:e,options:i,file:void 0,original:{command:t,args:e}};return i.shell?s:Sp(s)}Ci.exports=Cp});var Ri=h((OT,gi)=>{"use strict";var Vt=process.platform==="win32";function Wt(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function Lp(t,e){if(!Vt)return;let i=t.emit;t.emit=function(s,n){if(s==="exit"){let r=bi(n,e,"spawn");if(r)return i.call(t,"error",r)}return i.apply(t,arguments)}}function bi(t,e){return Vt&&t===1&&!e.file?Wt(e.original,"spawn"):null}function bp(t,e){return Vt&&t===1&&!e.file?Wt(e.original,"spawnSync"):null}gi.exports={hookChildProcess:Lp,verifyENOENT:bi,verifyENOENTSync:bp,notFoundError:Wt}});var wi=h((DT,Q)=>{"use strict";var Oi=require("child_process"),Qt=Li(),Yt=Ri();function Di(t,e,i){let s=Qt(t,e,i),n=Oi.spawn(s.command,s.args,s.options);return Yt.hookChildProcess(n,s),n}function gp(t,e,i){let s=Qt(t,e,i),n=Oi.spawnSync(s.command,s.args,s.options);return n.error=n.error||Yt.verifyENOENTSync(n.status,s),n}Q.exports=Di;Q.exports.spawn=Di;Q.exports.sync=gp;Q.exports._parse=Qt;Q.exports._enoent=Yt});var _s=h((Lx,fs)=>{"use strict";var{PassThrough:Ed}=require("stream");fs.exports=function(){var t=[],e=new Ed({objectMode:!0});return e.setMaxListeners(0),e.add=i,e.isEmpty=s,e.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(i),e;function i(r){return Array.isArray(r)?(r.forEach(i),this):(t.push(r),r.once("end",n.bind(null,r)),r.once("error",e.emit.bind(e,"error")),r.pipe(e,{end:!1}),this)}function s(){return t.length==0}function n(r){t=t.filter(function(o){return o!==r}),!t.length&&e.readable&&e.end()}}});var sn=h((Jx,en)=>{"use strict";en.exports={attributeIndex:0,attributeListDepth:{},matchST_ATTRIBUTE:function(){let t=this.input();if(this.is_WHITESPACE()){do t=this.input();while(this.is_WHITESPACE());return this.unput(1),null}switch(t){case"]":return this.attributeListDepth[this.attributeIndex]===0?(delete this.attributeListDepth[this.attributeIndex],this.attributeIndex--,this.popState()):this.attributeListDepth[this.attributeIndex]--,"]";case"(":case")":case":":case"=":case"|":case"&":case"^":case"-":case"+":case"*":case"%":case"~":case"<":case">":case"!":case".":return this.consume_TOKEN();case"[":return this.attributeListDepth[this.attributeIndex]++,"[";case",":return",";case'"':return this.ST_DOUBLE_QUOTES();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN()}if(this.is_LABEL_START()||t==="\\"){for(;this.offset<this.size;){let e=this.input();if(!(this.is_LABEL()||e==="\\")){e&&this.unput(1);break}}return this.T_STRING()}else if(this.is_NUM())return this.consume_NUM();throw new Error(`Bad terminal sequence "${t}" at line ${this.yylineno} (offset ${this.offset})`)}}});var rn=h((Zx,nn)=>{"use strict";nn.exports={T_COMMENT:function(){for(;this.offset<this.size;){let t=this.input();if(t===`
`||t==="\r")return this.tok.T_COMMENT;if(t==="?"&&!this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT;if(t==="%"&&this.aspTagMode&&this._input[this.offset]===">")return this.unput(1),this.tok.T_COMMENT}return this.tok.T_COMMENT},T_DOC_COMMENT:function(){let t=this.input(),e=this.tok.T_COMMENT;if(t==="*"){if(t=this.input(),this.is_WHITESPACE()&&(e=this.tok.T_DOC_COMMENT),t==="/")return e;this.unput(1)}for(;this.offset<this.size;)if(t=this.input(),t==="*"&&this._input[this.offset]==="/"){this.input();break}return e}}});var hn=h((tk,on)=>{"use strict";on.exports={nextINITIAL:function(){return this.conditionStack.length>1&&this.conditionStack[this.conditionStack.length-1]==="INITIAL"?this.popState():this.begin("ST_IN_SCRIPTING"),this},matchINITIAL:function(){for(;this.offset<this.size;){let t=this.input();if(t=="<"){if(t=this.ahead(1),t=="?"){if(this.tryMatch("?=")){this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}else if(this.tryMatchCaseless("?php")&&(t=this._input[this.offset+4],t===" "||t==="	"||t===`
`||t==="\r")){this.unput(1).appendToken(this.tok.T_OPEN_TAG,6).nextINITIAL();break}if(this.short_tags){this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}else if(this.asp_tags&&t=="%")if(this.tryMatch("%=")){this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG_WITH_ECHO,3).nextINITIAL();break}else{this.aspTagMode=!0,this.unput(1).appendToken(this.tok.T_OPEN_TAG,2).nextINITIAL();break}}}return this.yytext.length>0?this.tok.T_INLINE_HTML:!1}}});var ln=h((ek,cn)=>{"use strict";var wt=10,an="2147483648";process.arch=="x64"&&(wt=19,an="9223372036854775808");cn.exports={consume_NUM:function(){let t=this.yytext[0],e=t===".";if(t==="0")if(t=this.input(),t==="x"||t==="X"){if(t=this.input(),t!=="_"&&this.is_HEX())return this.consume_HNUM();this.unput(t?2:1)}else if(t==="b"||t==="B"){if(t=this.input(),t!=="_"&&t==="0"||t==="1")return this.consume_BNUM();this.unput(t?2:1)}else if(t==="o"||t==="O"){if(t=this.input(),t!=="_"&&this.is_OCTAL())return this.consume_ONUM();this.unput(t?2:1)}else this.is_NUM()||t&&this.unput(1);for(;this.offset<this.size;){let i=t;if(t=this.input(),t==="_"){if(i==="_"){this.unput(2);break}if(i==="."){this.unput(1);break}if(i==="e"||i==="E"){this.unput(2);break}}else if(t==="."){if(e){this.unput(1);break}if(i==="_"){this.unput(2);break}e=!0;continue}else if(t==="e"||t==="E"){if(i==="_"){this.unput(1);break}let s=2;if(t=this.input(),(t==="+"||t==="-")&&(s=3,t=this.input()),this.is_NUM_START())return this.consume_LNUM(),this.tok.T_DNUMBER;this.unput(t?s:s-1);break}if(!this.is_NUM()){t&&this.unput(1);break}}return e?this.tok.T_DNUMBER:this.yytext.length<wt-1?this.tok.T_LNUMBER:this.yytext.length<wt||this.yytext.length==wt&&this.yytext<an?this.tok.T_LNUMBER:this.tok.T_DNUMBER},consume_HNUM:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_HEX()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_LNUM:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_NUM()){t&&this.unput(1);break}}return this.tok.T_LNUMBER},consume_BNUM:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t!=="0"&&t!=="1"&&t!=="_"){t&&this.unput(1);break}return this.tok.T_LNUMBER},consume_ONUM:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_OCTAL()){t&&this.unput(1);break}}return this.tok.T_LNUMBER}}});var fn=h((ik,un)=>{"use strict";un.exports={matchST_LOOKING_FOR_PROPERTY:function(){let t=this.input();if(t==="-"){if(t=this.input(),t===">")return this.tok.T_OBJECT_OPERATOR;t&&this.unput(1)}else{if(this.is_WHITESPACE())return this.tok.T_WHITESPACE;if(this.is_LABEL_START())return this.consume_LABEL(),this.popState(),this.tok.T_STRING}return this.popState(),t&&this.unput(1),!1},matchST_LOOKING_FOR_VARNAME:function(){let t=this.input();if(this.popState(),this.begin("ST_IN_SCRIPTING"),this.is_LABEL_START()){if(this.consume_LABEL(),t=this.input(),t==="["||t==="}")return this.unput(1),this.tok.T_STRING_VARNAME;this.unput(this.yytext.length)}else t&&this.unput(1);return!1},matchST_VAR_OFFSET:function(){let t=this.input();if(this.is_NUM_START())return this.consume_NUM(),this.tok.T_NUM_STRING;if(t==="]")return this.popState(),"]";if(t==="$"){if(this.input(),this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_VARIABLE;throw new Error("Unexpected terminal")}else{if(this.is_LABEL_START())return this.consume_LABEL(),this.tok.T_STRING;if(this.is_WHITESPACE()||t==="\\"||t==="'"||t==="#")return this.tok.T_ENCAPSED_AND_WHITESPACE;if(t==="["||t==="{"||t==="}"||t==='"'||t==="`"||this.is_TOKEN())return t;throw new Error("Unexpected terminal")}}}});var pn=h((sk,_n)=>{"use strict";_n.exports={matchST_IN_SCRIPTING:function(){let t=this.input();switch(t){case" ":case"	":case`
`:case"\r":case`\r
`:return this.T_WHITESPACE();case"#":return this.version>=800&&this._input[this.offset]==="["?(this.input(),this.attributeListDepth[++this.attributeIndex]=0,this.begin("ST_ATTRIBUTE"),this.tok.T_ATTRIBUTE):this.T_COMMENT();case"/":return this._input[this.offset]==="/"?this.T_COMMENT():this._input[this.offset]==="*"?(this.input(),this.T_DOC_COMMENT()):this.consume_TOKEN();case"'":return this.T_CONSTANT_ENCAPSED_STRING();case'"':return this.ST_DOUBLE_QUOTES();case"`":return this.begin("ST_BACKQUOTE"),"`";case"?":if(!this.aspTagMode&&this.tryMatch(">")){this.input();let e=this._input[this.offset];return(e===`
`||e==="\r")&&this.input(),this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG}return this.consume_TOKEN();case"%":return this.aspTagMode&&this._input[this.offset]===">"?(this.input(),t=this._input[this.offset],(t===`
`||t==="\r")&&this.input(),this.aspTagMode=!1,this.conditionStack.length>1&&this.begin("INITIAL"),this.tok.T_CLOSE_TAG):this.consume_TOKEN();case"{":return this.begin("ST_IN_SCRIPTING"),"{";case"}":return this.conditionStack.length>2&&this.popState(),"}";default:if(t==="."){if(t=this.input(),this.is_NUM_START())return this.consume_NUM();t&&this.unput(1)}if(this.is_NUM_START())return this.consume_NUM();if(this.is_LABEL_START())return this.consume_LABEL().T_STRING();if(this.is_TOKEN())return this.consume_TOKEN()}throw new Error('Bad terminal sequence "'+t+'" at line '+this.yylineno+" (offset "+this.offset+")")},T_WHITESPACE:function(){for(;this.offset<this.size;){let t=this.input();if(!(t===" "||t==="	"||t===`
`||t==="\r")){t&&this.unput(1);break}}return this.tok.T_WHITESPACE}}});var xn=h((nk,Tn)=>{"use strict";var M=[`
`,"\r"],dn=[`
`,"\r",";"],Pd=dn.concat(["	"," ",",","]",")","/","=","!"]);Tn.exports={T_CONSTANT_ENCAPSED_STRING:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else if(t=="'")break;return this.tok.T_CONSTANT_ENCAPSED_STRING},is_HEREDOC:function(){let t=this.offset;if(this._input[this.offset-1]==="<"&&this._input[this.offset]==="<"&&this._input[this.offset+1]==="<"){if(this.offset+=3,this.is_TABSPACE())for(;this.offset<this.size&&(this.offset++,!!this.is_TABSPACE()););let e=this._input[this.offset-1];if(e==="'"||e==='"'?this.offset++:e=null,this.is_LABEL_START()){let i=this.offset-1;for(;this.offset<this.size&&(this.offset++,!!this.is_LABEL()););let s=this._input.substring(i,this.offset-1);if((!e||e===this._input[this.offset-1])&&(e&&this.offset++,M.includes(this._input[this.offset-1])))return this.heredoc_label.label=s,this.heredoc_label.length=s.length,this.heredoc_label.finished=!1,i=this.offset-t,this.offset=t,this.consume(i),e==="'"?this.begin("ST_NOWDOC"):this.begin("ST_HEREDOC"),this.prematch_ENDOFDOC(),this.tok.T_START_HEREDOC}}return this.offset=t,!1},ST_DOUBLE_QUOTES:function(){let t;for(;this.offset<this.size;)if(t=this.input(),t=="\\")this.input();else{if(t=='"')break;if(t=="$"){if(t=this.input(),t=="{"||this.is_LABEL_START()){this.unput(2);break}t&&this.unput(1)}else if(t=="{"){if(t=this.input(),t=="$"){this.unput(2);break}t&&this.unput(1)}}if(t=='"')return this.tok.T_CONSTANT_ENCAPSED_STRING;{let e=1;return(this.yytext[0]==="b"||this.yytext[0]==="B")&&(e=2),this.yytext.length>2&&this.appendToken(this.tok.T_ENCAPSED_AND_WHITESPACE,this.yytext.length-e),this.unput(this.yytext.length-e),this.begin("ST_DOUBLE_QUOTES"),this.yytext}},isDOC_MATCH:function(t,e){let i=this._input[t-2];if(!M.includes(i))return!1;let s=!1,n=!1,r=0,o=this._input[t-1];if(this.version>=703){for(;o==="	"||o===" ";)o===" "?s=!0:o==="	"&&(n=!0),o=this._input[t+r],r++;if(t=t+r,M.includes(this._input[t-1]))return!1}if(this._input.substring(t-1,t-1+this.heredoc_label.length)===this.heredoc_label.label){let a=this._input[t-1+this.heredoc_label.length];if((this.version>=703?Pd:dn).includes(a)){if(e){if(this.consume(r),s&&n)throw new Error("Parse error:  mixing spaces and tabs in ending marker at line "+this.yylineno+" (offset "+this.offset+")")}else this.heredoc_label.indentation=r,this.heredoc_label.indentation_uses_spaces=s,this.heredoc_label.first_encaps_node=!0;return!0}}return!1},prematch_ENDOFDOC:function(){this.heredoc_label.indentation_uses_spaces=!1,this.heredoc_label.indentation=0,this.heredoc_label.first_encaps_node=!0;let t=this.offset+1;for(;t<this._input.length;){if(this.isDOC_MATCH(t,!1))return;if(!M.includes(this._input[t-1]))for(;!M.includes(this._input[t++])&&t<this._input.length;);t++}},matchST_NOWDOC:function(){if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length),this.popState(),this.tok.T_END_HEREDOC;let t=this._input[this.offset-1];for(;this.offset<this.size;)if(M.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_HEREDOC:function(){let t=this.input();if(this.isDOC_MATCH(this.offset,!0))return this.consume(this.heredoc_label.length-1),this.popState(),this.tok.T_END_HEREDOC;for(;this.offset<this.size;)if(t==="\\"&&(t=this.input(),M.includes(t)||(t=this.input())),M.includes(t)){if(t=this.input(),this.isDOC_MATCH(this.offset,!0))return this.unput(1).popState(),this.appendToken(this.tok.T_END_HEREDOC,this.heredoc_label.length),this.tok.T_ENCAPSED_AND_WHITESPACE}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN)}else t=this.input();return this.tok.T_ENCAPSED_AND_WHITESPACE},consume_VARIABLE:function(){this.consume_LABEL();let t=this.input();if(t=="[")return this.unput(1),this.begin("ST_VAR_OFFSET"),this.tok.T_VARIABLE;if(t==="-"){if(this.input()===">")return this.input(),this.is_LABEL_START()&&this.begin("ST_LOOKING_FOR_PROPERTY"),this.unput(3),this.tok.T_VARIABLE;this.unput(2)}else t&&this.unput(1);return this.tok.T_VARIABLE},matchST_BACKQUOTE:function(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==="`")return this.popState(),"`";for(;this.offset<this.size;){if(t==="\\")this.input();else if(t==="`"){this.unput(1),this.popState(),this.appendToken("`",1);break}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}continue}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);continue}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE},matchST_DOUBLE_QUOTES:function(){let t=this.input();if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START())return this.consume_VARIABLE()}else if(t==="{"){if(this._input[this.offset]==="$")return this.begin("ST_IN_SCRIPTING"),this.tok.T_CURLY_OPEN}else if(t==='"')return this.popState(),'"';for(;this.offset<this.size;){if(t==="\\")this.input();else if(t==='"'){this.unput(1),this.popState(),this.appendToken('"',1);break}else if(t==="$"){if(t=this.input(),t==="{")return this.begin("ST_LOOKING_FOR_VARNAME"),this.yytext.length>2?(this.appendToken(this.tok.T_DOLLAR_OPEN_CURLY_BRACES,2),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):this.tok.T_DOLLAR_OPEN_CURLY_BRACES;if(this.is_LABEL_START()){let e=this.offset,i=this.consume_VARIABLE();return this.yytext.length>this.offset-e+2?(this.appendToken(i,this.offset-e+2),this.unput(this.offset-e+2),this.tok.T_ENCAPSED_AND_WHITESPACE):i}t&&this.unput(1)}else if(t==="{"){if(t=this.input(),t==="$")return this.begin("ST_IN_SCRIPTING"),this.yytext.length>2?(this.appendToken(this.tok.T_CURLY_OPEN,1),this.unput(2),this.tok.T_ENCAPSED_AND_WHITESPACE):(this.unput(1),this.tok.T_CURLY_OPEN);t&&this.unput(1)}t=this.input()}return this.tok.T_ENCAPSED_AND_WHITESPACE}}});var En=h((rk,kn)=>{"use strict";kn.exports={T_STRING:function(){let t=this.yytext.toLowerCase(),e=this.keywords[t];if(typeof e!="number"){if(t==="yield")this.version>=700&&this.tryMatch(" from")?(this.consume(5),e=this.tok.T_YIELD_FROM):e=this.tok.T_YIELD;else if(e=this.tok.T_STRING,t==="b"||t==="B"){let i=this.input();if(i==='"')return this.ST_DOUBLE_QUOTES();if(i==="'")return this.T_CONSTANT_ENCAPSED_STRING();i&&this.unput(1)}}if(e===this.tok.T_ENUM){if(this.version<801)return this.tok.T_STRING;let i=this.offset,s=this.input();for(;s==" ";)s=this.input();let n=!1;if(this.is_LABEL_START()){for(;this.is_LABEL();)s+=this.input();let r=s.slice(0,-1).toLowerCase();n=r!=="extends"&&r!=="implements"}return this.unput(this.offset-i),n?this.tok.T_ENUM:this.tok.T_STRING}if(this.offset<this.size&&e!==this.tok.T_YIELD_FROM){let i=this.input();if(i==="\\"){e=t==="namespace"?this.tok.T_NAME_RELATIVE:this.tok.T_NAME_QUALIFIED;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),i=this.input()}while(i==="\\")}i&&this.unput(1)}return e},consume_TOKEN:function(){let t=this._input[this.offset-1],e=this.tokenTerminals[t];return e?e.apply(this,[]):this.yytext},tokenTerminals:{$:function(){return this.offset++,this.is_LABEL_START()?(this.offset--,this.consume_LABEL(),this.tok.T_VARIABLE):(this.offset--,"$")},"-":function(){let t=this._input[this.offset];return t===">"?(this.begin("ST_LOOKING_FOR_PROPERTY").input(),this.tok.T_OBJECT_OPERATOR):t==="-"?(this.input(),this.tok.T_DEC):t==="="?(this.input(),this.tok.T_MINUS_EQUAL):"-"},"\\":function(){if(this.offset<this.size)if(this.input(),this.is_LABEL_START()){let t;do{if(this._input[this.offset]==="{"){this.input();break}this.consume_LABEL(),t=this.input()}while(t==="\\");return this.unput(1),this.tok.T_NAME_FULLY_QUALIFIED}else this.unput(1);return this.tok.T_NS_SEPARATOR},"/":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_DIV_EQUAL):"/"},":":function(){return this._input[this.offset]===":"?(this.input(),this.tok.T_DOUBLE_COLON):":"},"(":function(){let t=this.offset;if(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this.is_LABEL_START()){let e=this.yytext.length;this.consume_LABEL();let i=this.yytext.substring(e-1).toLowerCase(),s=this.castKeywords[i];if(typeof s=="number"&&(this.input(),this.is_TABSPACE()&&this.consume_TABSPACE().input(),this._input[this.offset-1]===")"))return s}return this.unput(this.offset-t),"("},"=":function(){let t=this._input[this.offset];return t===">"?(this.input(),this.tok.T_DOUBLE_ARROW):t==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_IDENTICAL):(this.input(),this.tok.T_IS_EQUAL):"="},"+":function(){let t=this._input[this.offset];return t==="+"?(this.input(),this.tok.T_INC):t==="="?(this.input(),this.tok.T_PLUS_EQUAL):"+"},"!":function(){return this._input[this.offset]==="="?this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_IS_NOT_IDENTICAL):(this.input(),this.tok.T_IS_NOT_EQUAL):"!"},"?":function(){return this.version>=700&&this._input[this.offset]==="?"?this.version>=704&&this._input[this.offset+1]==="="?(this.consume(2),this.tok.T_COALESCE_EQUAL):(this.input(),this.tok.T_COALESCE):this.version>=800&&this._input[this.offset]==="-"&&this._input[this.offset+1]===">"?(this.consume(2),this.tok.T_NULLSAFE_OBJECT_OPERATOR):"?"},"<":function(){let t=this._input[this.offset];return t==="<"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SL_EQUAL):t==="<"&&this.is_HEREDOC()?this.tok.T_START_HEREDOC:(this.input(),this.tok.T_SL)):t==="="?(this.input(),this.version>=700&&this._input[this.offset]===">"?(this.input(),this.tok.T_SPACESHIP):this.tok.T_IS_SMALLER_OR_EQUAL):t===">"?(this.input(),this.tok.T_IS_NOT_EQUAL):"<"},">":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_IS_GREATER_OR_EQUAL):t===">"?(t=this._input[this.offset+1],t==="="?(this.consume(2),this.tok.T_SR_EQUAL):(this.input(),this.tok.T_SR)):">"},"*":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_MUL_EQUAL):t==="*"?(this.input(),this._input[this.offset]==="="?(this.input(),this.tok.T_POW_EQUAL):this.tok.T_POW):"*"},".":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_CONCAT_EQUAL):t==="."&&this._input[this.offset+1]==="."?(this.consume(2),this.tok.T_ELLIPSIS):"."},"%":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_MOD_EQUAL):"%"},"&":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_AND_EQUAL):t==="&"?(this.input(),this.tok.T_BOOLEAN_AND):"&"},"|":function(){let t=this._input[this.offset];return t==="="?(this.input(),this.tok.T_OR_EQUAL):t==="|"?(this.input(),this.tok.T_BOOLEAN_OR):"|"},"^":function(){return this._input[this.offset]==="="?(this.input(),this.tok.T_XOR_EQUAL):"^"}}}});var yn=h((ok,mn)=>{"use strict";var Ud=";:,.\\[]()|^&+-/*=%!~$<>?@";mn.exports={is_NUM:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t===95},is_NUM_START:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<58},is_LABEL:function(){let t=this._input.charCodeAt(this.offset-1);return t>96&&t<123||t>64&&t<91||t===95||t>47&&t<58||t>126},is_LABEL_START:function(){let t=this._input.charCodeAt(this.offset-1);return t>64&&t<91||t>96&&t<123||t===95||t>126},consume_LABEL:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_LABEL()){t&&this.unput(1);break}}return this},is_TOKEN:function(){let t=this._input[this.offset-1];return Ud.indexOf(t)!==-1},is_WHITESPACE:function(){let t=this._input[this.offset-1];return t===" "||t==="	"||t===`
`||t==="\r"},is_TABSPACE:function(){let t=this._input[this.offset-1];return t===" "||t==="	"},consume_TABSPACE:function(){for(;this.offset<this.size;){let t=this.input();if(!this.is_TABSPACE()){t&&this.unput(1);break}}return this},is_HEX:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<58||t>64&&t<71||t>96&&t<103||t===95},is_OCTAL:function(){let t=this._input.charCodeAt(this.offset-1);return t>47&&t<56||t===95}}});var In=h((hk,An)=>{"use strict";var I=function(t){this.engine=t,this.tok=this.engine.tokens.names,this.EOF=1,this.debug=!1,this.all_tokens=!0,this.comment_tokens=!1,this.mode_eval=!1,this.asp_tags=!1,this.short_tags=!1,this.version=801,this.yyprevcol=0,this.keywords={__class__:this.tok.T_CLASS_C,__trait__:this.tok.T_TRAIT_C,__function__:this.tok.T_FUNC_C,__method__:this.tok.T_METHOD_C,__line__:this.tok.T_LINE,__file__:this.tok.T_FILE,__dir__:this.tok.T_DIR,__namespace__:this.tok.T_NS_C,exit:this.tok.T_EXIT,die:this.tok.T_EXIT,function:this.tok.T_FUNCTION,const:this.tok.T_CONST,return:this.tok.T_RETURN,try:this.tok.T_TRY,catch:this.tok.T_CATCH,finally:this.tok.T_FINALLY,throw:this.tok.T_THROW,if:this.tok.T_IF,elseif:this.tok.T_ELSEIF,endif:this.tok.T_ENDIF,else:this.tok.T_ELSE,while:this.tok.T_WHILE,endwhile:this.tok.T_ENDWHILE,do:this.tok.T_DO,for:this.tok.T_FOR,endfor:this.tok.T_ENDFOR,foreach:this.tok.T_FOREACH,endforeach:this.tok.T_ENDFOREACH,declare:this.tok.T_DECLARE,enddeclare:this.tok.T_ENDDECLARE,instanceof:this.tok.T_INSTANCEOF,as:this.tok.T_AS,switch:this.tok.T_SWITCH,endswitch:this.tok.T_ENDSWITCH,case:this.tok.T_CASE,default:this.tok.T_DEFAULT,break:this.tok.T_BREAK,continue:this.tok.T_CONTINUE,goto:this.tok.T_GOTO,echo:this.tok.T_ECHO,print:this.tok.T_PRINT,class:this.tok.T_CLASS,interface:this.tok.T_INTERFACE,trait:this.tok.T_TRAIT,enum:this.tok.T_ENUM,extends:this.tok.T_EXTENDS,implements:this.tok.T_IMPLEMENTS,new:this.tok.T_NEW,clone:this.tok.T_CLONE,var:this.tok.T_VAR,eval:this.tok.T_EVAL,include:this.tok.T_INCLUDE,include_once:this.tok.T_INCLUDE_ONCE,require:this.tok.T_REQUIRE,require_once:this.tok.T_REQUIRE_ONCE,namespace:this.tok.T_NAMESPACE,use:this.tok.T_USE,insteadof:this.tok.T_INSTEADOF,global:this.tok.T_GLOBAL,isset:this.tok.T_ISSET,empty:this.tok.T_EMPTY,__halt_compiler:this.tok.T_HALT_COMPILER,static:this.tok.T_STATIC,abstract:this.tok.T_ABSTRACT,final:this.tok.T_FINAL,private:this.tok.T_PRIVATE,protected:this.tok.T_PROTECTED,public:this.tok.T_PUBLIC,unset:this.tok.T_UNSET,list:this.tok.T_LIST,array:this.tok.T_ARRAY,callable:this.tok.T_CALLABLE,or:this.tok.T_LOGICAL_OR,and:this.tok.T_LOGICAL_AND,xor:this.tok.T_LOGICAL_XOR,match:this.tok.T_MATCH,readonly:this.tok.T_READ_ONLY},this.castKeywords={int:this.tok.T_INT_CAST,integer:this.tok.T_INT_CAST,real:this.tok.T_DOUBLE_CAST,double:this.tok.T_DOUBLE_CAST,float:this.tok.T_DOUBLE_CAST,string:this.tok.T_STRING_CAST,binary:this.tok.T_STRING_CAST,array:this.tok.T_ARRAY_CAST,object:this.tok.T_OBJECT_CAST,bool:this.tok.T_BOOL_CAST,boolean:this.tok.T_BOOL_CAST,unset:this.tok.T_UNSET_CAST}};I.prototype.setInput=function(t){return this._input=t,this.size=t.length,this.yylineno=1,this.offset=0,this.yyprevcol=0,this.yytext="",this.yylloc={first_offset:0,first_line:1,first_column:0,prev_offset:0,prev_line:1,prev_column:0,last_line:1,last_column:0},this.tokens=[],this.version>703?this.keywords.fn=this.tok.T_FN:delete this.keywords.fn,this.done=this.offset>=this.size,!this.all_tokens&&this.mode_eval?(this.conditionStack=["INITIAL"],this.begin("ST_IN_SCRIPTING")):(this.conditionStack=[],this.begin("INITIAL")),this.heredoc_label={label:"",length:0,indentation:0,indentation_uses_spaces:!1,finished:!1,first_encaps_node:!1,toString:function(){this.label}},this};I.prototype.input=function(){let t=this._input[this.offset];return t?(this.yytext+=t,this.offset++,t==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++),t===`
`||t==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++,t):""};I.prototype.unput=function(t){if(t===1)this.offset--,this._input[this.offset]===`
`&&this._input[this.offset-1]==="\r"&&(this.offset--,t++),this._input[this.offset]==="\r"||this._input[this.offset]===`
`?(this.yylloc.last_line--,this.yylineno--,this.yylloc.last_column=this.yyprevcol):this.yylloc.last_column--,this.yytext=this.yytext.substring(0,this.yytext.length-t);else if(t>0)if(this.offset-=t,t<this.yytext.length){this.yytext=this.yytext.substring(0,this.yytext.length-t),this.yylloc.last_line=this.yylloc.first_line,this.yylloc.last_column=this.yyprevcol=this.yylloc.first_column;for(let e=0;e<this.yytext.length;e++){let i=this.yytext[e];i==="\r"?(i=this.yytext[++e],this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0,i!==`
`&&(i==="\r"?this.yylloc.last_line++:this.yylloc.last_column++)):i===`
`?(this.yyprevcol=this.yylloc.last_column,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++}this.yylineno=this.yylloc.last_line}else this.yytext="",this.yylloc.last_line=this.yylineno=this.yylloc.first_line,this.yylloc.last_column=this.yylloc.first_column;return this};I.prototype.tryMatch=function(t){return t===this.ahead(t.length)};I.prototype.tryMatchCaseless=function(t){return t===this.ahead(t.length).toLowerCase()};I.prototype.ahead=function(t){let e=this._input.substring(this.offset,this.offset+t);return e[e.length-1]==="\r"&&this._input[this.offset+t+1]===`
`&&(e+=`
`),e};I.prototype.consume=function(t){for(let e=0;e<t;e++){let i=this._input[this.offset];if(!i)break;this.yytext+=i,this.offset++,i==="\r"&&this._input[this.offset]===`
`&&(this.yytext+=`
`,this.offset++,e++),i===`
`||i==="\r"?(this.yylloc.last_line=++this.yylineno,this.yyprevcol=this.yylloc.last_column,this.yylloc.last_column=0):this.yylloc.last_column++}return this};I.prototype.getState=function(){return{yytext:this.yytext,offset:this.offset,yylineno:this.yylineno,yyprevcol:this.yyprevcol,yylloc:{first_offset:this.yylloc.first_offset,first_line:this.yylloc.first_line,first_column:this.yylloc.first_column,last_line:this.yylloc.last_line,last_column:this.yylloc.last_column},heredoc_label:this.heredoc_label}};I.prototype.setState=function(t){return this.yytext=t.yytext,this.offset=t.offset,this.yylineno=t.yylineno,this.yyprevcol=t.yyprevcol,this.yylloc=t.yylloc,t.heredoc_label&&(this.heredoc_label=t.heredoc_label),this};I.prototype.appendToken=function(t,e){return this.tokens.push([t,e]),this};I.prototype.lex=function(){this.yylloc.prev_offset=this.offset,this.yylloc.prev_line=this.yylloc.last_line,this.yylloc.prev_column=this.yylloc.last_column;let t=this.next()||this.lex();if(!this.all_tokens){for(;t===this.tok.T_WHITESPACE||!this.comment_tokens&&(t===this.tok.T_COMMENT||t===this.tok.T_DOC_COMMENT)||t===this.tok.T_OPEN_TAG;)t=this.next()||this.lex();if(t==this.tok.T_OPEN_TAG_WITH_ECHO)return this.tok.T_ECHO;if(t===this.tok.T_CLOSE_TAG)return";"}return this.yylloc.prev_offset||(this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column),t};I.prototype.begin=function(t){if(this.conditionStack.push(t),this.curCondition=t,this.stateCb=this["match"+t],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+t+'"');return this};I.prototype.popState=function(){let e=this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0];if(this.curCondition=this.conditionStack[this.conditionStack.length-1],this.stateCb=this["match"+this.curCondition],typeof this.stateCb!="function")throw new Error('Undefined condition state "'+this.curCondition+'"');return e};I.prototype.next=function(){let t;if(this._input||(this.done=!0),this.yylloc.first_offset=this.offset,this.yylloc.first_line=this.yylloc.last_line,this.yylloc.first_column=this.yylloc.last_column,this.yytext="",this.done)return this.yylloc.prev_offset=this.yylloc.first_offset,this.yylloc.prev_line=this.yylloc.first_line,this.yylloc.prev_column=this.yylloc.first_column,this.EOF;if(this.tokens.length>0?(t=this.tokens.shift(),typeof t[1]=="object"?this.setState(t[1]):this.consume(t[1]),t=t[0]):t=this.stateCb.apply(this,[]),this.offset>=this.size&&this.tokens.length===0&&(this.done=!0),this.debug){let e=t;typeof e=="number"?e=this.engine.tokens.values[e]:e='"'+e+'"';let i=new Error(e+"	from "+this.yylloc.first_line+","+this.yylloc.first_column+"	 - to "+this.yylloc.last_line+","+this.yylloc.last_column+'	"'+this.yytext+'"');console.error(i.stack)}return t};[sn(),rn(),hn(),ln(),fn(),pn(),xn(),En(),yn()].forEach(function(t){for(let e in t)I.prototype[e]=t[e]});An.exports=I});var Oe=h((ak,Nn)=>{"use strict";var Fd=function(t,e,i){this.line=t,this.column=e,this.offset=i};Nn.exports=Fd});var Cn=h((ck,Sn)=>{"use strict";Sn.exports={read_array:function(){let t=null,e=!1,i=this.node("array");this.token===this.tok.T_ARRAY?(this.next().expect("("),t=")"):(e=!0,t="]");let s=[];return this.next().token!==t&&(s=this.read_array_pair_list(e)),this.expect(t),this.next(),i(e,s)},read_array_pair_list:function(t){let e=this;return this.read_list(function(){return e.read_array_pair(t)},",",!0)},read_array_pair:function(t){if(!t&&this.token===")"||t&&this.token==="]")return;if(this.token===",")return this.node("noop")();let e=this.node("entry"),i=null,s=null,n=!1,r=!1;if(this.token==="&")this.next(),n=!0,s=this.read_variable(!0,!1);else if(this.token===this.tok.T_ELLIPSIS&&this.version>=704)this.next(),this.token==="&"&&this.error(),r=!0,s=this.read_expr();else{let o=this.read_expr();this.token===this.tok.T_DOUBLE_ARROW?(this.next(),i=o,this.token==="&"?(this.next(),n=!0,s=this.read_variable(!0,!1)):s=this.read_expr()):s=o}return e(i,s,n,r)}}});var bn=h((lk,Ln)=>{"use strict";Ln.exports={read_class_declaration_statement:function(t){let e=this.node("class"),i=this.read_class_modifiers();if(this.token!==this.tok.T_CLASS)return this.error(this.tok.T_CLASS),this.next(),null;this.next().expect(this.tok.T_STRING);let s=this.node("identifier"),n=this.text();this.next(),s=s(n);let r=this.read_extends_from(),o=this.read_implements_list();this.expect("{");let a=this.next().read_class_body(!0,!1),c=e(s,r,o,a,i);return t&&(c.attrGroups=t),c},read_class_modifiers:function(){let t=this.read_class_modifier({readonly:0,final_or_abstract:0});return[0,0,t.final_or_abstract,t.readonly]},read_class_modifier:function(t){return this.token===this.tok.T_READ_ONLY?(this.next(),t.readonly=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_ABSTRACT?(this.next(),t.final_or_abstract=1,t=this.read_class_modifier(t)):t.final_or_abstract===0&&this.token===this.tok.T_FINAL&&(this.next(),t.final_or_abstract=2,t=this.read_class_modifier(t)),t},read_class_body:function(t,e){let i=[],s=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){i.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){i.push(this.read_doc_comment());continue}if(this.token===this.tok.T_USE){i=i.concat(this.read_trait_use_statement());continue}if(e&&this.token===this.tok.T_CASE){let o=this.read_enum_case();this.expect(";")&&this.next(),i=i.concat(o);continue}this.token===this.tok.T_ATTRIBUTE&&(s=this.read_attr_list());let n=this.position(),r=this.read_member_flags(!1);if(this.token===this.tok.T_CONST){let o=this.read_constant_list(r,s);this.expect(";")&&this.next(),i=i.concat(o);continue}if(t&&this.token===this.tok.T_VAR&&(this.next().expect(this.tok.T_VARIABLE),r[0]=null,r[1]=0),this.token===this.tok.T_FUNCTION)i.push(this.read_function(!1,r,s,n)),s=[];else if(t&&(this.token===this.tok.T_VARIABLE||this.version>=801&&this.token===this.tok.T_READ_ONLY||this.version>=704&&(this.token==="?"||this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE||this.token===this.tok.T_NAMESPACE||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_STRING))){let o=this.read_variable_list(r,s);s=[],this.expect(";"),this.next(),i=i.concat(o)}else this.error([this.tok.T_CONST,...t?[this.tok.T_VARIABLE]:[],...e?[this.tok.T_CASE]:[],this.tok.T_FUNCTION]),this.next()}return this.expect("}"),this.next(),i},read_variable_list:function(t,e){let i=this.node("propertystatement"),s=this.read_list(function(){let r=this.node("property"),o=!1;this.token===this.tok.T_READ_ONLY&&(o=!0,this.next());let[a,c]=this.read_optional_type();this.expect(this.tok.T_VARIABLE);let l=this.node("identifier"),u=this.text().substring(1);return this.next(),l=l(u),this.token===";"||this.token===","?r(l,null,o,a,c,e||[]):this.token==="="?r(l,this.next().read_expr(),o,a,c,e||[]):(this.expect([",",";","="]),r(l,null,a,c,e||[]))},",");return i(null,s,t)},read_constant_list:function(t,e){this.expect(this.tok.T_CONST)&&this.next();let i=this.node("classconstant"),s=this.read_list(function(){let r=this.node("constant"),o=null,a=null;if(this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){o=this.node("identifier");let c=this.text();this.next(),o=o(c)}else this.expect("IDENTIFIER");return this.expect("=")&&(a=this.next().read_expr()),r(o,a)},",");return i(null,s,t,e||[])},read_member_flags:function(t){let e=[-1,-1,-1];if(this.is("T_MEMBER_FLAGS")){let i=0,s=0;do{switch(this.token){case this.tok.T_PUBLIC:i=0,s=0;break;case this.tok.T_PROTECTED:i=0,s=1;break;case this.tok.T_PRIVATE:i=0,s=2;break;case this.tok.T_STATIC:i=1,s=1;break;case this.tok.T_ABSTRACT:i=2,s=1;break;case this.tok.T_FINAL:i=2,s=2;break}t&&(i==0&&s==2?(this.expect([this.tok.T_PUBLIC,this.tok.T_PROTECTED]),s=-1):i==2&&s==1&&(this.error(),s=-1)),e[i]!==-1?this.error():s!==-1&&(e[i]=s)}while(this.next().is("T_MEMBER_FLAGS"))}return e[1]==-1&&(e[1]=0),e[2]==-1&&(e[2]=0),e},read_optional_type:function(){let t=!1;this.token==="?"&&(t=!0,this.next());let e=this.read_types();if(t&&!e&&this.raiseError("Expecting a type definition combined with nullable operator"),!t&&!e)return[!1,null];if(this.token==="|"){e=[e];do{this.next();let i=this.read_type();if(!i){this.raiseError("Expecting a type definition");break}e.push(i)}while(this.token==="|")}return[t,e]},read_interface_declaration_statement:function(t){let e=this.node("interface");if(this.token!==this.tok.T_INTERFACE)return this.error(this.tok.T_INTERFACE),this.next(),null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier"),s=this.text();this.next(),i=i(s);let n=this.read_interface_extends_list();this.expect("{");let r=this.next().read_interface_body();return e(i,n,r,t||[])},read_interface_body:function(){let t=[],e=[];for(;this.token!==this.EOF&&this.token!=="}";){if(this.token===this.tok.T_COMMENT){t.push(this.read_comment());continue}if(this.token===this.tok.T_DOC_COMMENT){t.push(this.read_doc_comment());continue}let i=this.position();e=this.read_attr_list();let s=this.read_member_flags(!0);if(this.token==this.tok.T_CONST){let n=this.read_constant_list(s,e);this.expect(";")&&this.next(),t=t.concat(n),e=[]}else if(this.token===this.tok.T_FUNCTION){let n=this.read_function_declaration(2,s,e,i);n.parseFlags(s),t.push(n),this.expect(";")&&this.next(),e=[]}else this.error([this.tok.T_CONST,this.tok.T_FUNCTION]),this.next()}return this.expect("}")&&this.next(),t},read_trait_declaration_statement:function(){let t=this.node("trait");if(this.token!==this.tok.T_TRAIT)return this.error(this.tok.T_TRAIT),this.next(),null;this.next().expect(this.tok.T_STRING);let e=this.node("identifier"),i=this.text();this.next(),e=e(i),this.expect("{");let s=this.next().read_class_body(!0,!1);return t(e,s)},read_trait_use_statement:function(){let t=this.node("traituse");this.expect(this.tok.T_USE)&&this.next();let e=[this.read_namespace_name()],i=null;for(;this.token===",";)e.push(this.next().read_namespace_name());if(this.token==="{"){for(i=[];this.next().token!==this.EOF&&this.token!=="}";)i.push(this.read_trait_use_alias()),this.expect(";");this.expect("}")&&this.next()}else this.expect(";")&&this.next();return t(e,i)},read_trait_use_alias:function(){let t=this.node(),e=null,i;if(this.is("IDENTIFIER")){i=this.node("identifier");let s=this.text();this.next(),i=i(s)}else if(i=this.read_namespace_name(),this.token===this.tok.T_DOUBLE_COLON)if(this.next(),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){e=i,i=this.node("identifier");let s=this.text();this.next(),i=i(s)}else this.expect(this.tok.T_STRING);else i=i.name;if(this.token===this.tok.T_INSTEADOF)return t("traitprecedence",e,i,this.next().read_name_list());if(this.token===this.tok.T_AS){let s=null,n=null;if(this.next().is("T_MEMBER_FLAGS")&&(s=this.read_member_flags()),this.token===this.tok.T_STRING||this.version>=700&&this.is("IDENTIFIER")){n=this.node("identifier");let r=this.text();this.next(),n=n(r)}else s===!1&&this.expect(this.tok.T_STRING);return t("traitalias",e,i,n,s)}return this.expect([this.tok.T_AS,this.tok.T_INSTEADOF]),t("traitalias",e,i,null,null)}}});var Rn=h((uk,gn)=>{"use strict";gn.exports={read_comment:function(){let t=this.text(),e=this.ast.prepare(t.substring(0,2)==="/*"?"commentblock":"commentline",null,this),i=this.lexer.yylloc.first_offset,s=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),e=e(t),e.offset=i,this.prev=s,e},read_doc_comment:function(){let t=this.ast.prepare("commentblock",null,this),e=this.lexer.yylloc.first_offset,i=this.text(),s=this.prev;return this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset],this.lex(),t=t(i),t.offset=e,this.prev=s,t}}});var Dn=h((fk,On)=>{"use strict";On.exports={read_expr:function(t){let e=this.node();if(this.token==="@")return t||(t=this.next().read_expr()),e("silent",t);if(t||(t=this.read_expr_item()),this.token==="|")return e("bin","|",t,this.next().read_expr());if(this.token==="&")return e("bin","&",t,this.next().read_expr());if(this.token==="^")return e("bin","^",t,this.next().read_expr());if(this.token===".")return e("bin",".",t,this.next().read_expr());if(this.token==="+")return e("bin","+",t,this.next().read_expr());if(this.token==="-")return e("bin","-",t,this.next().read_expr());if(this.token==="*")return e("bin","*",t,this.next().read_expr());if(this.token==="/")return e("bin","/",t,this.next().read_expr());if(this.token==="%")return e("bin","%",t,this.next().read_expr());if(this.token===this.tok.T_POW)return e("bin","**",t,this.next().read_expr());if(this.token===this.tok.T_SL)return e("bin","<<",t,this.next().read_expr());if(this.token===this.tok.T_SR)return e("bin",">>",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_OR)return e("bin","||",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_OR)return e("bin","or",t,this.next().read_expr());if(this.token===this.tok.T_BOOLEAN_AND)return e("bin","&&",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_AND)return e("bin","and",t,this.next().read_expr());if(this.token===this.tok.T_LOGICAL_XOR)return e("bin","xor",t,this.next().read_expr());if(this.token===this.tok.T_IS_IDENTICAL)return e("bin","===",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_IDENTICAL)return e("bin","!==",t,this.next().read_expr());if(this.token===this.tok.T_IS_EQUAL)return e("bin","==",t,this.next().read_expr());if(this.token===this.tok.T_IS_NOT_EQUAL)return e("bin","!=",t,this.next().read_expr());if(this.token==="<")return e("bin","<",t,this.next().read_expr());if(this.token===">")return e("bin",">",t,this.next().read_expr());if(this.token===this.tok.T_IS_SMALLER_OR_EQUAL)return e("bin","<=",t,this.next().read_expr());if(this.token===this.tok.T_IS_GREATER_OR_EQUAL)return e("bin",">=",t,this.next().read_expr());if(this.token===this.tok.T_SPACESHIP)return e("bin","<=>",t,this.next().read_expr());if(this.token===this.tok.T_INSTANCEOF&&(t=e("bin","instanceof",t,this.next().read_class_name_reference()),this.token!==";"&&this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF&&(t=this.read_expr(t))),this.token===this.tok.T_COALESCE)return e("bin","??",t,this.next().read_expr());if(this.token==="?"){let i=null;return this.next().token!==":"&&(i=this.read_expr()),this.expect(":")&&this.next(),e("retif",t,i,this.read_expr())}else e.destroy(t);return t},read_expr_cast:function(t){return this.node("cast")(t,this.text(),this.next().read_expr())},read_isset_variable:function(){return this.read_expr()},read_isset_variables:function(){return this.read_function_list(this.read_isset_variable,",")},read_internal_functions_in_yacc:function(){let t=null;switch(this.token){case this.tok.T_ISSET:{t=this.node("isset"),this.next().expect("(")&&this.next();let e=this.read_isset_variables();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_EMPTY:{t=this.node("empty"),this.next().expect("(")&&this.next();let e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_INCLUDE:t=this.node("include")(!1,!1,this.next().read_expr());break;case this.tok.T_INCLUDE_ONCE:t=this.node("include")(!0,!1,this.next().read_expr());break;case this.tok.T_EVAL:{t=this.node("eval"),this.next().expect("(")&&this.next();let e=this.read_expr();this.expect(")")&&this.next(),t=t(e)}break;case this.tok.T_REQUIRE:t=this.node("include")(!1,!0,this.next().read_expr());break;case this.tok.T_REQUIRE_ONCE:t=this.node("include")(!0,!0,this.next().read_expr());break}return t},read_optional_expr:function(t){return this.token!==t?this.read_expr():null},read_exit_expr:function(){let t=null;return this.token==="("&&(this.next(),t=this.read_optional_expr(")"),this.expect(")")&&this.next()),t},read_expr_item:function(){let t,e,i=[];if(this.token==="+")return this.node("unary")("+",this.next().read_expr());if(this.token==="-")return this.node("unary")("-",this.next().read_expr());if(this.token==="!")return this.node("unary")("!",this.next().read_expr());if(this.token==="~")return this.node("unary")("~",this.next().read_expr());if(this.token==="(")return e=this.next().read_expr(),e.parenthesizedExpression=!0,this.expect(")")&&this.next(),this.handleDereferencable(e);if(this.token==="`")return this.read_encapsed_string("`");if(this.token===this.tok.T_LIST){let s=null,n=this.innerList;t=this.node("list"),n||(s=this.node("assign")),this.next().expect("(")&&this.next(),this.innerList||(this.innerList=!0);let r=this.read_array_pair_list(!1);this.expect(")")&&this.next();let o=!1;for(let a=0;a<r.length;a++)if(r[a]!==null&&r[a].kind!=="noop"){o=!0;break}return o||this.raiseError("Fatal Error :  Cannot use empty list on line "+this.lexer.yylloc.first_line),n?t(r,!1):(this.innerList=!1,this.expect("=")?s(t(r,!1),this.next().read_expr(),"="):t(r,!1))}if(this.token===this.tok.T_ATTRIBUTE&&(i=this.read_attr_list()),this.token===this.tok.T_CLONE)return this.node("clone")(this.next().read_expr());switch(this.token){case this.tok.T_INC:return this.node("pre")("+",this.next().read_variable(!1,!1));case this.tok.T_DEC:return this.node("pre")("-",this.next().read_variable(!1,!1));case this.tok.T_NEW:return this.read_new_expr();case this.tok.T_ISSET:case this.tok.T_EMPTY:case this.tok.T_INCLUDE:case this.tok.T_INCLUDE_ONCE:case this.tok.T_EVAL:case this.tok.T_REQUIRE:case this.tok.T_REQUIRE_ONCE:return this.read_internal_functions_in_yacc();case this.tok.T_MATCH:return this.read_match_expression();case this.tok.T_INT_CAST:return this.read_expr_cast("int");case this.tok.T_DOUBLE_CAST:return this.read_expr_cast("float");case this.tok.T_STRING_CAST:return this.read_expr_cast(this.text().indexOf("binary")!==-1?"binary":"string");case this.tok.T_ARRAY_CAST:return this.read_expr_cast("array");case this.tok.T_OBJECT_CAST:return this.read_expr_cast("object");case this.tok.T_BOOL_CAST:return this.read_expr_cast("bool");case this.tok.T_UNSET_CAST:return this.read_expr_cast("unset");case this.tok.T_THROW:{this.version<800&&this.raiseError("PHP 8+ is required to use throw as an expression");let s=this.node("throw"),n=this.next().read_expr();return s(n)}case this.tok.T_EXIT:{let s=this.lexer.yytext.toLowerCase()==="die";t=this.node("exit"),this.next();let n=this.read_exit_expr();return t(n,s)}case this.tok.T_PRINT:return this.node("print")(this.next().read_expr());case this.tok.T_YIELD:{let s=null,n=null;return t=this.node("yield"),this.next().is("EXPR")&&(s=this.read_expr(),this.token===this.tok.T_DOUBLE_ARROW&&(n=s,s=this.next().read_expr())),t(s,n)}case this.tok.T_YIELD_FROM:return t=this.node("yieldfrom"),e=this.next().read_expr(),t(e);case this.tok.T_FN:case this.tok.T_FUNCTION:return this.read_inline_function(void 0,i);case this.tok.T_STATIC:{let s=[this.token,this.lexer.getState()];if(this.next(),this.token===this.tok.T_FUNCTION||this.version>=704&&this.token===this.tok.T_FN)return this.read_inline_function([0,1,0],i);this.lexer.tokens.push(s),this.next()}}if(this.is("VARIABLE")){t=this.node(),e=this.read_variable(!1,!1);let s=e.kind==="identifier"||e.kind==="staticlookup"&&e.offset.kind==="identifier";switch(this.token){case"=":return s&&this.error("VARIABLE"),this.next().token=="&"?this.read_assignref(t,e):t("assign",e,this.read_expr(),"=");case this.tok.T_PLUS_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"+=");case this.tok.T_MINUS_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"-=");case this.tok.T_MUL_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"*=");case this.tok.T_POW_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"**=");case this.tok.T_DIV_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"/=");case this.tok.T_CONCAT_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),".=");case this.tok.T_MOD_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"%=");case this.tok.T_AND_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"&=");case this.tok.T_OR_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"|=");case this.tok.T_XOR_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"^=");case this.tok.T_SL_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"<<=");case this.tok.T_SR_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),">>=");case this.tok.T_COALESCE_EQUAL:return s&&this.error("VARIABLE"),t("assign",e,this.next().read_expr(),"??=");case this.tok.T_INC:return s&&this.error("VARIABLE"),this.next(),t("post","+",e);case this.tok.T_DEC:return s&&this.error("VARIABLE"),this.next(),t("post","-",e);default:t.destroy(e)}}else if(this.is("SCALAR")){if(t=this.node(),e=this.read_scalar(),e.kind==="array"&&e.shortForm&&this.token==="="){let s=this.convertToList(e);e.loc&&(s.loc=e.loc);let n=this.next().read_expr();return t("assign",s,n,"=")}else t.destroy(e);return this.handleDereferencable(e)}else this.error("EXPR"),this.next();return e},convertToList:function(t){let e=t.items.map(s=>(s.value&&s.value.kind==="array"&&s.value.shortForm&&(s.value=this.convertToList(s.value)),s)),i=this.node("list")(e,!0);return t.loc&&(i.loc=t.loc),t.leadingComments&&(i.leadingComments=t.leadingComments),t.trailingComments&&(i.trailingComments=t.trailingComments),i},read_assignref:function(t,e){this.next();let i;return this.token===this.tok.T_NEW?(this.version>=700&&this.error(),i=this.read_new_expr()):i=this.read_variable(!1,!1),t("assignref",e,i)},read_inline_function:function(t,e){if(this.token===this.tok.T_FUNCTION){let l=this.read_function(!0,t,e);return l.attrGroups=e,l}!this.version>=704&&this.raiseError("Arrow Functions are not allowed");let i=this.node("arrowfunc");this.expect(this.tok.T_FN)&&this.next();let s=this.is_reference();this.expect("(")&&this.next();let n=this.read_parameter_list();this.expect(")")&&this.next();let r=!1,o=null;this.token===":"&&(this.next().token==="?"&&(r=!0,this.next()),o=this.read_types()),this.expect(this.tok.T_DOUBLE_ARROW)&&this.next();let a=this.read_expr(),c=i(n,s,a,o,r,!!t);return c.attrGroups=e,c},read_match_expression:function(){let t=this.node("match");this.expect(this.tok.T_MATCH)&&this.next(),this.version<800&&this.raiseError("Match statements are not allowed before PHP 8");let e=null,i=[];return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect("{")&&this.next(),i=this.read_match_arms(),this.expect("}")&&this.next(),t(e,i)},read_match_arms:function(){return this.read_list(()=>this.read_match_arm(),",",!0)},read_match_arm:function(){if(this.token!=="}")return this.node("matcharm")(this.read_match_arm_conds(),this.read_expr())},read_match_arm_conds:function(){let t=[];if(this.token===this.tok.T_DEFAULT)t=null,this.next();else for(t.push(this.read_expr());this.token===",";){if(this.next(),this.token===this.tok.T_DOUBLE_ARROW)return this.next(),t;t.push(this.read_expr())}return this.expect(this.tok.T_DOUBLE_ARROW)&&this.next(),t},read_attribute(){let t=this.text(),e=[];return this.next(),this.token==="("&&(e=this.read_argument_list()),this.node("attribute")(t,e)},read_attr_list(){let t=[];if(this.token===this.tok.T_ATTRIBUTE)do{let e=this.node("attrgroup")([]);for(this.next(),e.attrs.push(this.read_attribute());this.token===",";)this.next(),this.token!=="]"&&e.attrs.push(this.read_attribute());t.push(e),this.expect("]"),this.next()}while(this.token===this.tok.T_ATTRIBUTE);return t},read_new_expr:function(){let t=this.node("new");this.expect(this.tok.T_NEW)&&this.next();let e=[];if(this.token==="("){this.next();let n=this.read_expr();return this.expect(")"),this.next(),this.token==="("&&(e=this.read_argument_list()),t(n,e)}let i=this.read_attr_list();if(this.token===this.tok.T_CLASS){let n=this.node("class");this.next().token==="("&&(e=this.read_argument_list());let r=this.read_extends_from(),o=this.read_implements_list(),a=null;this.expect("{")&&(a=this.next().read_class_body(!0,!1));let c=n(null,r,o,a,[0,0,0]);return c.attrGroups=i,t(c,e)}let s=this.read_new_class_name();for(;this.token==="[";){let n=this.node("offsetlookup"),r=this.next().read_encaps_var_offset();this.expect("]")&&this.next(),s=n(s,r)}return this.token==="("&&(e=this.read_argument_list()),t(s,e)},read_new_class_name:function(){if(this.token===this.tok.T_NS_SEPARATOR||this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_NAMESPACE){let t=this.read_namespace_name(!0);return this.token===this.tok.T_DOUBLE_COLON&&(t=this.read_static_getter(t)),t}else{if(this.is("VARIABLE"))return this.read_variable(!0,!1);this.expect([this.tok.T_STRING,"VARIABLE"])}},handleDereferencable:function(t){for(;this.token!==this.EOF;)if(this.token===this.tok.T_OBJECT_OPERATOR||this.token===this.tok.T_DOUBLE_COLON)t=this.recursive_variable_chain_scan(t,!1,!1,!0);else if(this.token===this.tok.T_CURLY_OPEN||this.token==="[")t=this.read_dereferencable(t);else if(this.token==="(")t=this.node("call")(t,this.read_argument_list());else return t;return t}}});var vn=h((_k,wn)=>{"use strict";wn.exports={read_enum_declaration_statement:function(t){let e=this.node("enum");if(!this.expect(this.tok.T_ENUM))return null;this.next().expect(this.tok.T_STRING);let i=this.node("identifier"),s=this.text();this.next(),i=i(s);let n=this.read_enum_value_type(),r=this.read_implements_list();this.expect("{");let o=this.next().read_class_body(!1,!0),a=e(i,n,r,o);return t&&(a.attrGroups=t),a},read_enum_value_type:function(){return this.token===":"?this.next().read_namespace_name():null},read_enum_case:function(){this.expect(this.tok.T_CASE);let t=this.node("enumcase"),e=this.node("identifier"),i=this.next().text();this.next(),e=e(i);let s=this.token==="="?this.next().read_expr():null;return this.expect(";"),t(e,s)}}});var Un=h((pk,Pn)=>{"use strict";Pn.exports={is_reference:function(){return this.token==="&"?(this.next(),!0):!1},is_variadic:function(){return this.token===this.tok.T_ELLIPSIS?(this.next(),!0):!1},read_function:function(t,e,i,s){let n=this.read_function_declaration(t?1:e?2:0,e&&e[1]===1,i||[],s);return e&&e[2]==1?(n.parseFlags(e),this.expect(";")&&this.next()):(this.expect("{")&&(n.body=this.read_code_block(!1),n.loc&&n.body.loc&&(n.loc.end=n.body.loc.end)),!t&&e&&n.parseFlags(e)),n},read_function_declaration:function(t,e,i,s){let n="function";t===1?n="closure":t===2&&(n="method");let r=this.node(n);this.expect(this.tok.T_FUNCTION)&&this.next();let o=this.is_reference(),a=!1,c=[],l=null,u=!1;if(t!==1){let p=this.node("identifier");t===2?this.version>=700?this.token===this.tok.T_STRING||this.is("IDENTIFIER")?(a=this.text(),this.next()):this.version<704&&this.error("IDENTIFIER"):this.token===this.tok.T_STRING?(a=this.text(),this.next()):this.error("IDENTIFIER"):this.version>=700?this.token===this.tok.T_STRING?(a=this.text(),this.next()):this.version>=704?this.expect("(")||this.next():(this.error(this.tok.T_STRING),this.next()):(this.expect(this.tok.T_STRING)&&(a=this.text()),this.next()),a=p(a)}this.expect("(")&&this.next();let _=this.read_parameter_list(a.name==="__construct");this.expect(")")&&this.next(),t===1&&(c=this.read_lexical_vars()),this.token===":"&&(this.next().token==="?"&&(u=!0,this.next()),l=this.read_types());let f=p=>(p.attrGroups=i||[],s&&p.loc&&(p.loc.start=s,p.loc.source&&(p.loc.source=this.lexer._input.substr(p.loc.start.offset,p.loc.end.offset-p.loc.start.offset))),p);return f(t===1?r(_,o,c,l,u,e):r(a,_,o,l,u))},read_lexical_vars:function(){let t=[];return this.token===this.tok.T_USE&&(this.next(),this.expect("(")&&this.next(),t=this.read_lexical_var_list(),this.expect(")")&&this.next()),t},read_list_with_dangling_comma:function(t){let e=[];for(;this.token!=this.EOF;)if(e.push(t()),this.token==","){if(this.next(),this.version>=800&&this.token===")")return e}else{if(this.token==")")break;this.error([",",")"]);break}return e},read_lexical_var_list:function(){return this.read_list_with_dangling_comma(this.read_lexical_var.bind(this))},read_lexical_var:function(){if(this.token==="&")return this.read_byref(this.read_lexical_var.bind(this));let t=this.node("variable");this.expect(this.tok.T_VARIABLE);let e=this.text().substring(1);return this.next(),t(e,!1)},read_parameter_list:function(t){if(this.token!==")"){let e=!1;return this.read_list_with_dangling_comma(function(){let i=this.read_parameter(t);return i&&(e&&this.raiseError("Unexpected parameter after a variadic parameter"),i.variadic&&(e=!0)),i}.bind(this),",")}return[]},read_parameter:function(t){let e=this.node("parameter"),i=null,s=null,n=null,r=!1,o=!1,a=[];this.token===this.tok.T_ATTRIBUTE&&(a=this.read_attr_list()),this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),o=!0):this.raiseError("readonly properties can be used only on class constructor"));let c=this.read_promoted();!o&&this.version>=801&&this.token===this.tok.T_READ_ONLY&&(t?(this.next(),o=!0):this.raiseError("readonly properties can be used only on class constructor")),this.token==="?"&&(this.next(),r=!0),n=this.read_types(),r&&!n&&this.raiseError("Expecting a type definition combined with nullable operator");let l=this.is_reference(),u=this.is_variadic();if(this.expect(this.tok.T_VARIABLE)){i=this.node("identifier");let f=this.text().substring(1);this.next(),i=i(f)}this.token=="="&&(s=this.next().read_expr());let _=e(i,n,s,l,u,o,r,c);return a&&(_.attrGroups=a),_},read_types(){let t="unset",e="union",i="intersection",s=[],n=t,r=this.read_type();if(!r)return null;for(s.push(r);this.token==="|"||this.version>=801&&this.token==="&";){let o=this.peek();if(o===this.tok.T_ELLIPSIS||o===this.tok.T_VARIABLE)break;n===t?n=this.token==="|"?e:i:(n===e&&this.token!=="|"||n===i&&this.token!=="&")&&this.raiseError('Unexpect token "'+this.token+'", "|" and "&" can not be mixed'),this.next(),s.push(this.read_type())}return s.length===1?s[0]:n===i?this.node("intersectiontype")(s):this.node("uniontype")(s)},read_promoted(){return this.token===this.tok.T_PUBLIC?(this.next(),1):this.token===this.tok.T_PROTECTED?(this.next(),2):this.token===this.tok.T_PRIVATE?(this.next(),4):0},read_argument_list:function(){let t=[];return this.expect("(")&&this.next(),this.version>=801&&this.token===this.tok.T_ELLIPSIS&&this.peek()===")"?(t.push(this.node("variadicplaceholder")()),this.next()):this.token!==")"&&(t=this.read_non_empty_argument_list()),this.expect(")")&&this.next(),t},read_non_empty_argument_list:function(){let t=!1;return this.read_function_list(function(){let e=this.read_argument();if(e){let i=e.kind==="variadic";t&&!i&&this.raiseError("Unexpected non-variadic argument after a variadic argument"),i&&(t=!0)}return e}.bind(this),",")},read_argument:function(){return this.token===this.tok.T_ELLIPSIS?this.node("variadic")(this.next().read_expr()):(this.token===this.tok.T_STRING||Object.values(this.lexer.keywords).includes(this.token))&&this.peek()===":"?(this.version<800&&this.raiseError("PHP 8+ is required to use named arguments"),this.node("namedargument")(this.text(),this.next().next().read_expr())):this.read_expr()},read_type:function(){let t=this.node();if(this.token===this.tok.T_ARRAY||this.token===this.tok.T_CALLABLE){let e=this.text();return this.next(),t("typereference",e.toLowerCase(),e)}else if(this.token===this.tok.T_NAME_RELATIVE||this.token===this.tok.T_NAME_QUALIFIED||this.token===this.tok.T_NAME_FULLY_QUALIFIED||this.token===this.tok.T_STRING||this.token===this.tok.T_STATIC){let e=this.text(),i=[this.token,this.lexer.getState()];return this.next(),this.token!==this.tok.T_NS_SEPARATOR&&this.ast.typereference.types.indexOf(e.toLowerCase())>-1?t("typereference",e.toLowerCase(),e):(this.lexer.tokens.push(i),this.next(),t.destroy(),this.read_namespace_name())}return t.destroy(),null}}});var Mn=h((dk,Fn)=>{"use strict";Fn.exports={read_if:function(){let t=this.node("if"),e=this.next().read_if_expr(),i=null,s=null,n=!1;if(this.token===":"){n=!0,this.next(),i=this.node("block");let r=[];for(;this.token!==this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){s=this.read_elseif_short();break}else if(this.token===this.tok.T_ELSE){s=this.read_else_short();break}r.push(this.read_inner_statement())}i=i(null,r),this.expect(this.tok.T_ENDIF)&&this.next(),this.expectEndOfStatement()}else i=this.read_statement(),this.token===this.tok.T_ELSEIF?s=this.read_if():this.token===this.tok.T_ELSE&&(s=this.next().read_statement());return t(e,i,s,n)},read_if_expr:function(){this.expect("(")&&this.next();let t=this.read_expr();return this.expect(")")&&this.next(),t},read_elseif_short:function(){let t=null,e=this.node("if"),i=this.next().read_if_expr();this.expect(":")&&this.next();let s=this.node("block"),n=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;){if(this.token===this.tok.T_ELSEIF){t=this.read_elseif_short();break}else if(this.token===this.tok.T_ELSE){t=this.read_else_short();break}n.push(this.read_inner_statement())}return e(i,s(null,n),t,!0)},read_else_short:function(){this.next().expect(":")&&this.next();let t=this.node("block"),e=[];for(;this.token!=this.EOF&&this.token!==this.tok.T_ENDIF;)e.push(this.read_inner_statement());return t(null,e)}}});var qn=h((Tk,Bn)=>{"use strict";Bn.exports={read_while:function(){let t=this.node("while");this.expect(this.tok.T_WHILE)&&this.next();let e=null,i=null,s=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.token===":"?(s=!0,i=this.read_short_form(this.tok.T_ENDWHILE)):i=this.read_statement(),t(e,i,s)},read_do:function(){let t=this.node("do");this.expect(this.tok.T_DO)&&this.next();let e=null,i=null;return i=this.read_statement(),this.expect(this.tok.T_WHILE)&&(this.next().expect("(")&&this.next(),e=this.read_expr(),this.expect(")")&&this.next(),this.expect(";")&&this.next()),t(e,i)},read_for:function(){let t=this.node("for");this.expect(this.tok.T_FOR)&&this.next();let e=[],i=[],s=[],n=null,r=!1;return this.expect("(")&&this.next(),this.token!==";"?(e=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==";"?(i=this.read_list(this.read_expr,","),this.expect(";")&&this.next()):this.next(),this.token!==")"?(s=this.read_list(this.read_expr,","),this.expect(")")&&this.next()):this.next(),this.token===":"?(r=!0,n=this.read_short_form(this.tok.T_ENDFOR)):n=this.read_statement(),t(e,i,s,n,r)},read_foreach:function(){let t=this.node("foreach");this.expect(this.tok.T_FOREACH)&&this.next();let e=null,i=null,s=null,n=null,r=!1;return this.expect("(")&&this.next(),e=this.read_expr(),this.expect(this.tok.T_AS)&&(this.next(),s=this.read_foreach_variable(),this.token===this.tok.T_DOUBLE_ARROW&&(i=s,s=this.next().read_foreach_variable())),i&&i.kind==="list"&&this.raiseError("Fatal Error : Cannot use list as key element"),this.expect(")")&&this.next(),this.token===":"?(r=!0,n=this.read_short_form(this.tok.T_ENDFOREACH)):n=this.read_statement(),t(e,i,s,n,r)},read_foreach_variable:function(){if(this.token===this.tok.T_LIST||this.token==="["){let t=this.token==="[",e=this.node("list");this.next(),!t&&this.expect("(")&&this.next();let i=this.read_array_pair_list(t);return this.expect(t?"]":")")&&this.next(),e(i,t)}else return this.read_variable(!1,!1)}}});var Hn=h((xk,Gn)=>{"use strict";Gn.exports={read_start:function(){return this.token==this.tok.T_NAMESPACE?this.read_namespace():this.read_top_statement()}}});var $n=h((kk,Kn)=>{"use strict";Kn.exports={read_namespace:function(){let t=this.node("namespace"),e;this.expect(this.tok.T_NAMESPACE)&&this.next();let i;return this.token==="{"?i={name:[""]}:i=this.read_namespace_name(),this.currentNamespace=i,this.token===";"?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect(this.EOF),t(i.name,e,!1)):this.token==="{"?(this.currentNamespace=i,e=this.next().read_top_statements(),this.expect("}")&&this.next(),e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),t(i.name,e,!0)):(this.error(["{",";"]),this.currentNamespace=i,e=this.read_top_statements(),this.expect(this.EOF),t(i,e,!1))},read_namespace_name:function(t){let e=this.node(),i,s=this.text();switch(this.token){case this.tok.T_NAME_RELATIVE:i=this.ast.name.RELATIVE_NAME,s=s.replace(/^namespace\\/,"");break;case this.tok.T_NAME_QUALIFIED:i=this.ast.name.QUALIFIED_NAME;break;case this.tok.T_NAME_FULLY_QUALIFIED:i=this.ast.name.FULL_QUALIFIED_NAME;break;default:if(i=this.ast.name.UNQUALIFIED_NAME,!this.expect(this.tok.T_STRING))return e("name","",this.ast.name.FULL_QUALIFIED_NAME)}if(this.next(),t||this.token!=="("){if(s.toLowerCase()==="parent")return e("parentreference",s);if(s.toLowerCase()==="self")return e("selfreference",s)}return e("name",s,i)},read_use_statement:function(){let t=this.node("usegroup"),e=[],i=null;this.expect(this.tok.T_USE)&&this.next();let s=this.read_use_type();return e.push(this.read_use_declaration(!1)),this.token===","?e=e.concat(this.next().read_use_declarations(!1)):this.token==="{"&&(i=e[0].name,e=this.next().read_use_declarations(s===null),this.expect("}")&&this.next()),t=t(i,s,e),this.expect(";")&&this.next(),t},read_class_name_reference:function(){return this.read_variable(!0,!1)},read_use_declaration:function(t){let e=this.node("useitem"),i=null;t&&(i=this.read_use_type());let s=this.read_namespace_name(),n=this.read_use_alias();return e(s.name,n,i)},read_use_declarations:function(t){let e=[this.read_use_declaration(t)];for(;this.token===",";){if(this.next(),t){if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_FUNCTION&&this.token!==this.tok.T_CONST&&this.token!==this.tok.T_STRING)break}else if(this.token!==this.tok.T_NAME_RELATIVE&&this.token!==this.tok.T_NAME_QUALIFIED&&this.token!==this.tok.T_NAME_FULLY_QUALIFIED&&this.token!==this.tok.T_STRING&&this.token!==this.tok.T_NS_SEPARATOR)break;e.push(this.read_use_declaration(t))}return e},read_use_alias:function(){let t=null;if(this.token===this.tok.T_AS&&this.next().expect(this.tok.T_STRING)){let e=this.node("identifier"),i=this.text();this.next(),t=e(i)}return t},read_use_type:function(){return this.token===this.tok.T_FUNCTION?(this.next(),this.ast.useitem.TYPE_FUNCTION):this.token===this.tok.T_CONST?(this.next(),this.ast.useitem.TYPE_CONST):null}}});var Qn=h((Ek,Wn)=>{"use strict";var Vn={"\\":"\\",$:"$",n:`
`,r:"\r",t:"	",f:String.fromCharCode(12),v:String.fromCharCode(11),e:String.fromCharCode(27)};Wn.exports={resolve_special_chars:function(t,e){return e?t.replace(/\\"/,'"').replace(/\\([\\$nrtfve]|[xX][0-9a-fA-F]{1,2}|[0-7]{1,3}|u{([0-9a-fA-F]+)})/g,(i,s,n)=>Vn[s]?Vn[s]:s[0]==="x"||s[0]==="X"?String.fromCodePoint(parseInt(s.substr(1),16)):s[0]==="u"?String.fromCodePoint(parseInt(n,16)):String.fromCodePoint(parseInt(s,8))):t.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},remove_heredoc_leading_whitespace_chars:function(t,e,i,s){if(e===0)return t;this.check_heredoc_indentation_level(t,e,i,s);let n=i?" ":"	",r=new RegExp(`\\n${n}{${e}}`,"g"),o=new RegExp(`^${n}{${e}}`);return s&&(t=t.replace(o,"")),t.replace(r,`
`)},check_heredoc_indentation_level:function(t,e,i,s){let n=t.length,r=0,o=0,a=!0,c=i?" ":"	",l=!1;if(!s){if(r=t.indexOf(`
`),r===-1)return;r++}for(;r<n;)a?t[r]===c?o++:l=!0:a=!1,t[r]!==`
`&&l&&o<e?this.raiseError(`Invalid body indentation level (expecting an indentation at least ${e})`):l=!1,t[r]===`
`&&(a=!0,o=0),r++},read_dereferencable_scalar:function(){let t=null;switch(this.token){case this.tok.T_CONSTANT_ENCAPSED_STRING:{let e=this.node("string"),i=this.text(),s=0;(i[0]==="b"||i[0]==="B")&&(s=1);let n=i[s]==='"';this.next();let r=this.resolve_special_chars(i.substring(s+1,i.length-1),n);e=e(n,r,s===1,i),this.token===this.tok.T_DOUBLE_COLON?t=this.read_static_getter(e):t=e}break;case this.tok.T_ARRAY:t=this.read_array();break;case"[":t=this.read_array();break}return t},read_scalar:function(){if(this.is("T_MAGIC_CONST"))return this.get_magic_constant();{let t,e;switch(this.token){case this.tok.T_LNUMBER:case this.tok.T_DNUMBER:{let i=this.node("number");return t=this.text(),this.next(),i(t,null)}case this.tok.T_START_HEREDOC:if(this.lexer.curCondition==="ST_NOWDOC"){let i=this.lexer.yylloc.first_offset;e=this.node("nowdoc"),t=this.next().text(),this.lexer.heredoc_label.indentation>0&&(t=t.substring(0,t.length-this.lexer.heredoc_label.indentation));let s=t[t.length-1];s===`
`?t[t.length-2]==="\r"?t=t.substring(0,t.length-2):t=t.substring(0,t.length-1):s==="\r"&&(t=t.substring(0,t.length-1)),this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE)&&this.next(),this.expect(this.tok.T_END_HEREDOC)&&this.next();let n=this.lexer._input.substring(i,this.lexer.yylloc.first_offset);return e=e(this.remove_heredoc_leading_whitespace_chars(t,this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node),n,this.lexer.heredoc_label.label),this.lexer.heredoc_label.finished=!0,e}else return this.read_encapsed_string(this.tok.T_END_HEREDOC);case'"':return this.read_encapsed_string('"');case'b"':case'B"':return this.read_encapsed_string('"',!0);case this.tok.T_CONSTANT_ENCAPSED_STRING:case this.tok.T_ARRAY:case"[":return this.read_dereferencable_scalar();default:{let i=this.error("SCALAR");return this.next(),i}}}},read_dereferencable:function(t){let e,i,s=this.node("offsetlookup");return this.token==="["?(i=this.next().read_expr(),this.expect("]")&&this.next(),e=s(t,i)):this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES&&(i=this.read_encapsed_string_item(!1),e=s(t,i)),e},read_encapsed_string_item:function(t){let e=this.node("encapsedpart"),i=null,s=!1,n=this.node(),r,o,a;if(this.token===this.tok.T_ENCAPSED_AND_WHITESPACE){let c=this.text();this.next(),n=n("string",!1,this.version>=703&&!this.lexer.heredoc_label.finished?this.remove_heredoc_leading_whitespace_chars(this.resolve_special_chars(c,t),this.lexer.heredoc_label.indentation,this.lexer.heredoc_label.indentation_uses_spaces,this.lexer.heredoc_label.first_encaps_node):c,!1,c)}else if(this.token===this.tok.T_DOLLAR_OPEN_CURLY_BRACES){if(i="simple",s=!0,a=null,this.next().token===this.tok.T_STRING_VARNAME){a=this.node("variable");let c=this.text();this.next(),n.destroy(),this.token==="["?(a=a(c,!1),o=this.node("offsetlookup"),r=this.next().read_expr(),this.expect("]")&&this.next(),n=o(a,r)):n=a(c,!1)}else n=n("variable",this.read_expr(),!1);this.expect("}")&&this.next()}else if(this.token===this.tok.T_CURLY_OPEN)i="complex",n.destroy(),n=this.next().read_variable(!1,!1),this.expect("}")&&this.next();else if(this.token===this.tok.T_VARIABLE){if(i="simple",n.destroy(),n=this.read_simple_variable(),this.token==="["&&(o=this.node("offsetlookup"),r=this.next().read_encaps_var_offset(),this.expect("]")&&this.next(),n=o(n,r)),this.token===this.tok.T_OBJECT_OPERATOR){o=this.node("propertylookup"),this.next().expect(this.tok.T_STRING);let c=this.node("identifier");a=this.text(),this.next(),n=o(n,c(a))}}else{this.expect(this.tok.T_ENCAPSED_AND_WHITESPACE);let c=this.text();this.next(),n.destroy(),n=n("string",!1,c,!1,c)}return this.lexer.heredoc_label.first_encaps_node=!1,e(n,i,s)},read_encapsed_string:function(t,e=!1){let i=this.lexer.yylloc.first_offset,s=this.node("encapsed");this.next();let n=this.lexer.yylloc.prev_offset-(e?1:0),r=[],o=null;for(t==="`"?o=this.ast.encapsed.TYPE_SHELL:t==='"'?o=this.ast.encapsed.TYPE_STRING:o=this.ast.encapsed.TYPE_HEREDOC;this.token!==t&&this.token!==this.EOF;)r.push(this.read_encapsed_string_item(!0));if(r.length>0&&r[r.length-1].kind==="encapsedpart"&&r[r.length-1].expression.kind==="string"){let c=r[r.length-1].expression,l=c.value[c.value.length-1];l===`
`?c.value[c.value.length-2]==="\r"?c.value=c.value.substring(0,c.value.length-2):c.value=c.value.substring(0,c.value.length-1):l==="\r"&&(c.value=c.value.substring(0,c.value.length-1))}this.expect(t)&&this.next();let a=this.lexer._input.substring(o==="heredoc"?i:n-1,this.lexer.yylloc.first_offset);return s=s(r,a,o),t===this.tok.T_END_HEREDOC&&(s.label=this.lexer.heredoc_label.label,this.lexer.heredoc_label.finished=!0),s},get_magic_constant:function(){let t=this.node("magic"),e=this.text();return this.next(),t(e.toUpperCase(),e)}}});var jn=h((mk,Yn)=>{"use strict";Yn.exports={read_top_statements:function(){let t=[];for(;this.token!==this.EOF&&this.token!=="}";){let e=this.read_top_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_top_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:return this.read_function(!1,!1,t);case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_READ_ONLY:case this.tok.T_CLASS:return this.read_class_declaration_statement(t);case this.tok.T_INTERFACE:return this.read_interface_declaration_statement(t);case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement(t);case this.tok.T_USE:return this.read_use_statement();case this.tok.T_CONST:{let e=this.node("constantstatement"),i=this.next().read_const_list();return this.expectEndOfStatement(),e(null,i)}case this.tok.T_NAMESPACE:return this.read_namespace();case this.tok.T_HALT_COMPILER:{let e=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),this.expect(";"),this.lexer.done=!0,e(this.lexer._input.substring(this.lexer.offset))}default:return this.read_statement()}},read_inner_statements:function(){let t=[];for(;this.token!=this.EOF&&this.token!=="}";){let e=this.read_inner_statement();e&&(Array.isArray(e)?t=t.concat(e):t.push(e))}return t},read_const_list:function(){return this.read_list(function(){this.expect(this.tok.T_STRING);let t=this.node("constant"),e=this.node("identifier"),i=this.text();return this.next(),e=e(i),this.expect("=")?t(e,this.next().read_expr()):t(e,null)},",",!1)},read_declare_list:function(){let t=[];for(;this.token!=this.EOF&&this.token!==")";){this.expect(this.tok.T_STRING);let e=this.node("declaredirective"),i=this.node("identifier"),s=this.text();this.next(),i=i(s);let n=null;if(this.expect("=")&&(n=this.next().read_expr()),t.push(e(i,n)),this.token!==",")break;this.next()}return t},read_inner_statement:function(){let t=[];switch(this.token===this.tok.T_ATTRIBUTE&&(t=this.read_attr_list()),this.token){case this.tok.T_FUNCTION:{let e=this.read_function(!1,!1);return e.attrGroups=t,e}case this.tok.T_ABSTRACT:case this.tok.T_FINAL:case this.tok.T_CLASS:return this.read_class_declaration_statement();case this.tok.T_INTERFACE:return this.read_interface_declaration_statement();case this.tok.T_TRAIT:return this.read_trait_declaration_statement();case this.tok.T_ENUM:return this.read_enum_declaration_statement();case this.tok.T_HALT_COMPILER:{this.raiseError("__HALT_COMPILER() can only be used from the outermost scope");let e=this.node("halt");return this.next().expect("(")&&this.next(),this.expect(")")&&this.next(),e=e(this.lexer._input.substring(this.lexer.offset)),this.expect(";")&&this.next(),e}default:return this.read_statement()}},read_statement:function(){switch(this.token){case"{":return this.read_code_block(!1);case this.tok.T_IF:return this.read_if();case this.tok.T_SWITCH:return this.read_switch();case this.tok.T_FOR:return this.read_for();case this.tok.T_FOREACH:return this.read_foreach();case this.tok.T_WHILE:return this.read_while();case this.tok.T_DO:return this.read_do();case this.tok.T_COMMENT:return this.read_comment();case this.tok.T_DOC_COMMENT:return this.read_doc_comment();case this.tok.T_RETURN:{let t=this.node("return");this.next();let e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_BREAK:case this.tok.T_CONTINUE:{let t=this.node(this.token===this.tok.T_CONTINUE?"continue":"break");this.next();let e=this.read_optional_expr(";");return this.expectEndOfStatement(),t(e)}case this.tok.T_GLOBAL:{let t=this.node("global"),e=this.next().read_list(this.read_simple_variable,",");return this.expectEndOfStatement(),t(e)}case this.tok.T_STATIC:{let t=[this.token,this.lexer.getState()],e=this.node();if(this.next().token===this.tok.T_DOUBLE_COLON){this.lexer.tokens.push(t);let s=this.next().read_expr();return this.expectEndOfStatement(s),e("expressionstatement",s)}if(this.token===this.tok.T_FUNCTION)return this.read_function(!0,[0,1,0]);let i=this.read_variable_declarations();return this.expectEndOfStatement(),e("static",i)}case this.tok.T_ECHO:{let t=this.node("echo"),e=this.text(),i=e==="<?="||e==="<%=",s=this.next().read_function_list(this.read_expr,",");return this.expectEndOfStatement(),t(s,i)}case this.tok.T_INLINE_HTML:{let t=this.text(),e=this.lexer.yylloc.first_offset>0?this.lexer._input[this.lexer.yylloc.first_offset-1]:null,i=e==="\r"||e===`
`;i&&e===`
`&&this.lexer.yylloc.first_offset>1&&this.lexer._input[this.lexer.yylloc.first_offset-2]==="\r"&&(e=`\r
`);let s=this.node("inline");return this.next(),s(t,i?e+t:t)}case this.tok.T_UNSET:{let t=this.node("unset");this.next().expect("(")&&this.next();let e=this.read_function_list(this.read_variable,",");return this.expect(")")&&this.next(),this.expect(";")&&this.next(),t(e)}case this.tok.T_DECLARE:{let t=this.node("declare"),e=[],i;this.next().expect("(")&&this.next();let s=this.read_declare_list();if(this.expect(")")&&this.next(),this.token===":"){for(this.next();this.token!=this.EOF&&this.token!==this.tok.T_ENDDECLARE;)e.push(this.read_top_statement());e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect(this.tok.T_ENDDECLARE)&&this.next(),this.expectEndOfStatement(),i=this.ast.declare.MODE_SHORT}else if(this.token==="{"){for(this.next();this.token!=this.EOF&&this.token!=="}";)e.push(this.read_top_statement());e.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&e.push(this.node("noop")()),this.expect("}")&&this.next(),i=this.ast.declare.MODE_BLOCK}else this.expect(";")&&this.next(),i=this.ast.declare.MODE_NONE;return t(s,e,i)}case this.tok.T_TRY:return this.read_try();case this.tok.T_THROW:{let t=this.node("throw"),e=this.next().read_expr();return this.expectEndOfStatement(),t(e)}case";":return this.next(),null;case this.tok.T_STRING:{let t=this.node(),e=[this.token,this.lexer.getState()],i=this.text(),s=this.node("identifier");if(this.next().token===":")return s=s(i),this.next(),t("label",s);s.destroy(),t.destroy(),this.lexer.tokens.push(e);let n=this.node("expressionstatement"),r=this.next().read_expr();return this.expectEndOfStatement(r),n(r)}case this.tok.T_GOTO:{let t=this.node("goto"),e=null;if(this.next().expect(this.tok.T_STRING)){e=this.node("identifier");let i=this.text();this.next(),e=e(i),this.expectEndOfStatement()}return t(e)}default:{let t=this.node("expressionstatement"),e=this.read_expr();return this.expectEndOfStatement(e),t(e)}}},read_code_block:function(t){let e=this.node("block");this.expect("{")&&this.next();let i=t?this.read_top_statements():this.read_inner_statements();return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect("}")&&this.next(),e(null,i)}}});var Xn=h((yk,zn)=>{"use strict";zn.exports={read_switch:function(){let t=this.node("switch");this.expect(this.tok.T_SWITCH)&&this.next(),this.expect("(")&&this.next();let e=this.read_expr();this.expect(")")&&this.next();let i=this.token===":",s=this.read_switch_case_list();return t(e,s,i)},read_switch_case_list:function(){let t=null,e=this.node("block"),i=[];for(this.token==="{"?t="}":this.token===":"?t=this.tok.T_ENDSWITCH:this.expect(["{",":"]),this.next(),this.token===";"&&this.next();this.token!==this.EOF&&this.token!==t;)i.push(this.read_case_list(t));return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),t===this.tok.T_ENDSWITCH&&this.expectEndOfStatement(),e(null,i)},read_case_list:function(t){let e=this.node("case"),i=null;this.token===this.tok.T_CASE?i=this.next().read_expr():this.token===this.tok.T_DEFAULT?this.next():this.expect([this.tok.T_CASE,this.tok.T_DEFAULT]),this.expect([":",";"])&&this.next();let s=this.node("block"),n=[];for(;this.token!==this.EOF&&this.token!==t&&this.token!==this.tok.T_CASE&&this.token!==this.tok.T_DEFAULT;)n.push(this.read_inner_statement());return e(i,s(null,n))}}});var Zn=h((Ak,Jn)=>{"use strict";Jn.exports={read_try:function(){this.expect(this.tok.T_TRY);let t=this.node("try"),e=null,i=[],s=this.next().read_statement();for(;this.token===this.tok.T_CATCH;){let n=this.node("catch");this.next().expect("(")&&this.next();let r=this.read_list(this.read_namespace_name,"|",!1),o=null;(this.version<800||this.token===this.tok.T_VARIABLE)&&(o=this.read_variable(!0,!1)),this.expect(")"),i.push(n(this.next().read_statement(),r,o))}return this.token===this.tok.T_FINALLY&&(e=this.next().read_statement()),t(s,i,e)}}});var er=h((Ik,tr)=>{"use strict";tr.exports={read_short_form:function(t){let e=this.node("block"),i=[];for(this.expect(":")&&this.next();this.token!=this.EOF&&this.token!==t;)i.push(this.read_inner_statement());return i.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&i.push(this.node("noop")()),this.expect(t)&&this.next(),this.expectEndOfStatement(),e(null,i)},read_function_list:function(t,e){let i=[];do{if(this.token==e&&this.version>=703&&i.length>0){i.push(this.node("noop")());break}if(i.push(t.apply(this,[])),this.token!=e||this.next().token==")"&&this.version>=703)break}while(this.token!=this.EOF);return i},read_list:function(t,e,i){let s=[];if(this.token==e&&(i&&s.push(typeof t=="function"?this.node("noop")():null),this.next()),typeof t=="function")do{let n=t.apply(this,[]);if(n&&s.push(n),this.token!=e)break}while(this.next().token!=this.EOF);else{if(this.expect(t))s.push(this.text());else return[];for(;this.next().token!=this.EOF&&!(this.token!=e||this.next().token!=t);)s.push(this.text())}return s},read_name_list:function(){return this.read_list(this.read_namespace_name,",",!1)},read_byref:function(t){let e=this.node("byref");this.next(),e=e(null);let i=t();return i&&(this.ast.swapLocations(i,e,i,this),i.byref=!0),i},read_variable_declarations:function(){return this.read_list(function(){let t=this.node("staticvariable"),e=this.node("variable");if(this.expect(this.tok.T_VARIABLE)){let i=this.text().substring(1);this.next(),e=e(i,!1)}else e=e("#ERR",!1);return this.token==="="?t(e,this.next().read_expr()):e},",")},read_extends_from:function(){return this.token===this.tok.T_EXTENDS?this.next().read_namespace_name():null},read_interface_extends_list:function(){return this.token===this.tok.T_EXTENDS?this.next().read_name_list():null},read_implements_list:function(){return this.token===this.tok.T_IMPLEMENTS?this.next().read_name_list():null}}});var sr=h((Nk,ir)=>{"use strict";ir.exports={read_variable:function(t,e){let i;if(this.token==="&")return this.read_byref(this.read_variable.bind(this,t,e));if(this.is([this.tok.T_VARIABLE,"$"]))i=this.read_reference_variable(e);else if(this.is([this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE])){i=this.node();let s=this.read_namespace_name();if(this.token!=this.tok.T_DOUBLE_COLON&&this.token!="("&&["parentreference","selfreference"].indexOf(s.kind)===-1){let n=s.name.toLowerCase();n==="true"?i=s.destroy(i("boolean",!0,s.name)):n==="false"?i=s.destroy(i("boolean",!1,s.name)):n==="null"?i=s.destroy(i("nullkeyword",s.name)):(i.destroy(s),i=s)}else i.destroy(s),i=s}else if(this.token===this.tok.T_STATIC){i=this.node("staticreference");let s=this.text();this.next(),i=i(s)}else this.expect("VARIABLE");return this.token===this.tok.T_DOUBLE_COLON&&(i=this.read_static_getter(i,e)),this.recursive_variable_chain_scan(i,t,e)},read_static_getter:function(t,e){let i=this.node("staticlookup"),s,n;return this.next().is([this.tok.T_VARIABLE,"$"])?s=this.read_reference_variable(e):this.token===this.tok.T_STRING||this.token===this.tok.T_CLASS||this.version>=700&&this.is("IDENTIFIER")?(s=this.node("identifier"),n=this.text(),this.next(),s=s(n)):this.token==="{"?(s=this.node("literal"),n=this.next().read_expr(),this.expect("}")&&this.next(),s=s("literal",n,null),this.expect("(")):(this.error([this.tok.T_VARIABLE,this.tok.T_STRING]),s=this.node("identifier"),n=this.text(),this.next(),s=s(n)),i(t,s)},read_what:function(t=!1){let e=null,i=null;switch(this.next().token){case this.tok.T_STRING:e=this.node("identifier"),i=this.text(),this.next(),e=e(i),t&&this.token===this.tok.T_OBJECT_OPERATOR&&this.error();break;case this.tok.T_VARIABLE:e=this.node("variable"),i=this.text().substring(1),this.next(),e=e(i,!1);break;case"$":e=this.node(),this.next().expect(["$","{",this.tok.T_VARIABLE]),this.token==="{"?(i=this.next().read_expr(),this.expect("}")&&this.next(),e=e("variable",i,!0)):(i=this.read_expr(),e=e("variable",i,!1));break;case"{":e=this.node("encapsedpart"),i=this.next().read_expr(),this.expect("}")&&this.next(),e=e(i,"complex",!1);break;default:this.error([this.tok.T_STRING,this.tok.T_VARIABLE,"$","{"]),e=this.node("identifier"),i=this.text(),this.next(),e=e(i);break}return e},recursive_variable_chain_scan:function(t,e,i){let s,n;t:for(;this.token!=this.EOF;)switch(this.token){case"(":if(e)return t;t=this.node("call")(t,this.read_argument_list());break;case"[":case"{":{let o=this.token==="[";s=this.node("offsetlookup"),this.next(),n=!1,i?(n=this.read_encaps_var_offset(),this.expect(o?"]":"}")&&this.next()):(o?this.token!=="]":this.token!=="}")?(n=this.read_expr(),this.expect(o?"]":"}")&&this.next()):this.next(),t=s(t,n);break}case this.tok.T_DOUBLE_COLON:t.kind==="staticlookup"&&t.offset.kind==="identifier"&&this.error(),s=this.node("staticlookup"),t=s(t,this.read_what(!0));break;case this.tok.T_OBJECT_OPERATOR:{s=this.node("propertylookup"),t=s(t,this.read_what());break}case this.tok.T_NULLSAFE_OBJECT_OPERATOR:{s=this.node("nullsafepropertylookup"),t=s(t,this.read_what());break}default:break t}return t},read_encaps_var_offset:function(){let t=this.node();if(this.token===this.tok.T_STRING){let e=this.text();this.next(),t=t("identifier",e)}else if(this.token===this.tok.T_NUM_STRING){let e=this.text();this.next(),t=t("number",e,null)}else if(this.token==="-"){this.next();let e=-1*this.text();this.expect(this.tok.T_NUM_STRING)&&this.next(),t=t("number",e,null)}else if(this.token===this.tok.T_VARIABLE){let e=this.text().substring(1);this.next(),t=t("variable",e,!1)}else{this.expect([this.tok.T_STRING,this.tok.T_NUM_STRING,"-",this.tok.T_VARIABLE]);let e=this.text();this.next(),t=t("identifier",e)}return t},read_reference_variable:function(t){let e=this.read_simple_variable(),i;for(;this.token!=this.EOF;){let s=this.node();if(this.token=="{"&&!t)i=this.next().read_expr(),this.expect("}")&&this.next(),e=s("offsetlookup",e,i);else{s.destroy();break}}return e},read_simple_variable:function(){let t=this.node("variable"),e;if(this.expect([this.tok.T_VARIABLE,"$"])&&this.token===this.tok.T_VARIABLE)e=this.text().substring(1),this.next(),t=t(e,!1);else switch(this.token==="$"&&this.next(),this.token){case"{":{let i=this.next().read_expr();this.expect("}")&&this.next(),t=t(i,!0);break}case"$":t=t(this.read_simple_variable(),!1);break;case this.tok.T_VARIABLE:{e=this.text().substring(1);let i=this.node("variable");this.next(),t=t(i(e,!1),!1);break}default:this.error(["{","$",this.tok.T_VARIABLE]),e=this.text(),this.next(),t=t(e,!1)}return t}}});var rr=h((Sk,nr)=>{"use strict";var Md=Oe();function we(t){return t!="."&&t!=","&&!isNaN(parseFloat(t))&&isFinite(t)}var y=function(t,e){this.lexer=t,this.ast=e,this.tok=t.tok,this.EOF=t.EOF,this.token=null,this.prev=null,this.debug=!1,this.version=801,this.extractDoc=!1,this.extractTokens=!1,this.suppressErrors=!1;let i=function(s){return[s,null]};this.entries={IDENTIFIER:new Map([this.tok.T_ABSTRACT,this.tok.T_ARRAY,this.tok.T_AS,this.tok.T_BREAK,this.tok.T_CALLABLE,this.tok.T_CASE,this.tok.T_CATCH,this.tok.T_CLASS,this.tok.T_CLASS_C,this.tok.T_CLONE,this.tok.T_CONST,this.tok.T_CONTINUE,this.tok.T_DECLARE,this.tok.T_DEFAULT,this.tok.T_DIR,this.tok.T_DO,this.tok.T_ECHO,this.tok.T_ELSE,this.tok.T_ELSEIF,this.tok.T_EMPTY,this.tok.T_ENDDECLARE,this.tok.T_ENDFOR,this.tok.T_ENDFOREACH,this.tok.T_ENDIF,this.tok.T_ENDSWITCH,this.tok.T_ENDWHILE,this.tok.T_ENUM,this.tok.T_EVAL,this.tok.T_EXIT,this.tok.T_EXTENDS,this.tok.T_FILE,this.tok.T_FINAL,this.tok.T_FINALLY,this.tok.T_FN,this.tok.T_FOR,this.tok.T_FOREACH,this.tok.T_FUNC_C,this.tok.T_FUNCTION,this.tok.T_GLOBAL,this.tok.T_GOTO,this.tok.T_IF,this.tok.T_IMPLEMENTS,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_INSTANCEOF,this.tok.T_INSTEADOF,this.tok.T_INTERFACE,this.tok.T_ISSET,this.tok.T_LINE,this.tok.T_LIST,this.tok.T_LOGICAL_AND,this.tok.T_LOGICAL_OR,this.tok.T_LOGICAL_XOR,this.tok.T_MATCH,this.tok.T_METHOD_C,this.tok.T_NAMESPACE,this.tok.T_NEW,this.tok.T_NS_C,this.tok.T_PRINT,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_PUBLIC,this.tok.T_READ_ONLY,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_RETURN,this.tok.T_STATIC,this.tok.T_SWITCH,this.tok.T_THROW,this.tok.T_TRAIT,this.tok.T_TRY,this.tok.T_UNSET,this.tok.T_USE,this.tok.T_VAR,this.tok.T_WHILE,this.tok.T_YIELD].map(i)),VARIABLE:new Map([this.tok.T_VARIABLE,"$","&",this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_NAMESPACE,this.tok.T_STATIC].map(i)),SCALAR:new Map([this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i)),T_MAGIC_CONST:new Map([this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C].map(i)),T_MEMBER_FLAGS:new Map([this.tok.T_PUBLIC,this.tok.T_PRIVATE,this.tok.T_PROTECTED,this.tok.T_STATIC,this.tok.T_ABSTRACT,this.tok.T_FINAL].map(i)),EOS:new Map([";",this.EOF,this.tok.T_INLINE_HTML].map(i)),EXPR:new Map(["@","-","+","!","~","(","`",this.tok.T_LIST,this.tok.T_CLONE,this.tok.T_INC,this.tok.T_DEC,this.tok.T_NEW,this.tok.T_ISSET,this.tok.T_EMPTY,this.tok.T_MATCH,this.tok.T_INCLUDE,this.tok.T_INCLUDE_ONCE,this.tok.T_REQUIRE,this.tok.T_REQUIRE_ONCE,this.tok.T_EVAL,this.tok.T_INT_CAST,this.tok.T_DOUBLE_CAST,this.tok.T_STRING_CAST,this.tok.T_ARRAY_CAST,this.tok.T_OBJECT_CAST,this.tok.T_BOOL_CAST,this.tok.T_UNSET_CAST,this.tok.T_EXIT,this.tok.T_PRINT,this.tok.T_YIELD,this.tok.T_STATIC,this.tok.T_FUNCTION,this.tok.T_FN,this.tok.T_VARIABLE,"$",this.tok.T_NS_SEPARATOR,this.tok.T_STRING,this.tok.T_NAME_RELATIVE,this.tok.T_NAME_QUALIFIED,this.tok.T_NAME_FULLY_QUALIFIED,this.tok.T_STRING,this.tok.T_CONSTANT_ENCAPSED_STRING,this.tok.T_START_HEREDOC,this.tok.T_LNUMBER,this.tok.T_DNUMBER,this.tok.T_ARRAY,"[",this.tok.T_CLASS_C,this.tok.T_TRAIT_C,this.tok.T_FUNC_C,this.tok.T_METHOD_C,this.tok.T_LINE,this.tok.T_FILE,this.tok.T_DIR,this.tok.T_NS_C,'"','b"','B"',"-",this.tok.T_NS_SEPARATOR].map(i))}};y.prototype.getTokenName=function(t){return we(t)?t==this.EOF?"the end of file (EOF)":this.lexer.engine.tokens.values[t]:"'"+t+"'"};y.prototype.parse=function(t,e){this._errors=[],this.filename=e||"eval",this.currentNamespace=[""],this.extractDoc?this._docs=[]:this._docs=null,this.extractTokens?this._tokens=[]:this._tokens=null,this._docIndex=0,this._lastNode=null,this.lexer.setInput(t),this.lexer.all_tokens=this.extractTokens,this.lexer.comment_tokens=this.extractDoc,this.length=this.lexer._input.length,this.innerList=!1,this.innerListForm=!1;let i=this.node("program"),s=[];for(this.next();this.token!=this.EOF;)s.push(this.read_start());s.length===0&&this.extractDoc&&this._docs.length>this._docIndex&&s.push(this.node("noop")()),this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset];let n=i(s,this._errors,this._docs,this._tokens);if(this.debug){let r=this.ast.checkNodes();if(r.length>0)throw r.forEach(function(o){o.position&&""+o.position.line+o.position.column,o.stack.join(`
`)}),new Error("Some nodes are not closed")}return n};y.prototype.raiseError=function(t,e,i,s){if(t+=" on line "+this.lexer.yylloc.first_line,!this.suppressErrors){let r=new SyntaxError(t,this.filename,this.lexer.yylloc.first_line);throw r.lineNumber=this.lexer.yylloc.first_line,r.fileName=this.filename,r.columnNumber=this.lexer.yylloc.first_column,r}let n=this.ast.prepare("error",null,this)(t,s,this.lexer.yylloc.first_line,i);return this._errors.push(n),n};y.prototype.error=function(t){let e="Parse Error : syntax error",i=this.getTokenName(this.token),s="";if(this.token!==this.EOF){if(we(this.token)){let n=this.text();n.length>10&&(n=n.substring(0,7)+"..."),i="'"+n+"' ("+i+")"}e+=", unexpected "+i}return t&&!Array.isArray(t)&&((we(t)||t.length===1)&&(s=", expecting "+this.getTokenName(t)),e+=s),this.raiseError(e,s,t,i)};y.prototype.position=function(){return new Md(this.lexer.yylloc.first_line,this.lexer.yylloc.first_column,this.lexer.yylloc.first_offset)};y.prototype.node=function(t){if(this.extractDoc){let e=null;this._docIndex<this._docs.length&&(e=this._docs.slice(this._docIndex),this._docIndex=this._docs.length,this.debug&&new Error("Append docs on "+t));let i=this.ast.prepare(t,e,this);return i.postBuild=function(s){if(this._docIndex<this._docs.length)if(this._lastNode){let n=this.prev[2],r=this._docIndex;for(;r<this._docs.length&&!(this._docs[r].offset>n);r++);r>this._docIndex&&(this._lastNode.setTrailingComments(this._docs.slice(this._docIndex,r)),this._docIndex=r)}else this.token===this.EOF&&(s.setTrailingComments(this._docs.slice(this._docIndex)),this._docIndex=this._docs.length);this._lastNode=s}.bind(this),i}return this.ast.prepare(t,null,this)};y.prototype.expectEndOfStatement=function(t){if(this.token===";")t&&this.lexer.yytext===";"&&t.includeToken(this);else if(this.token!==this.tok.T_INLINE_HTML&&this.token!==this.EOF)return this.error(";"),!1;return this.next(),!0};var De=["parser.next","parser.node","parser.showlog"];y.prototype.showlog=function(){let t=new Error().stack.split(`
`),e;for(let i=2;i<t.length;i++){e=t[i].trim();let s=!1;for(let n=0;n<De.length;n++)if(e.substring(3,3+De[n].length)===De[n]){s=!0;break}if(!s)break}return""+this.lexer.yylloc.first_line+this.getTokenName(this.token)+this.lexer.yytext+e,this};y.prototype.expect=function(t){if(Array.isArray(t)){if(t.indexOf(this.token)===-1)return this.error(t),!1}else if(this.token!=t)return this.error(t),!1;return!0};y.prototype.text=function(){return this.lexer.yytext};y.prototype.next=function(){if((this.token!==";"||this.lexer.yytext===";")&&(this.prev=[this.lexer.yylloc.last_line,this.lexer.yylloc.last_column,this.lexer.offset]),this.lex(),this.debug&&this.showlog(),this.extractDoc)for(;this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT;)this.token===this.tok.T_COMMENT?this._docs.push(this.read_comment()):this._docs.push(this.read_doc_comment());return this};y.prototype.peek=function(){let t=this.lexer.getState(),e=this.lexer.lex();return this.lexer.setState(t),e};y.prototype.lex=function(){if(this.extractTokens)do{if(this.token=this.lexer.lex()||this.EOF,this.token===this.EOF)return this;let t=this.lexer.yytext;if(Object.prototype.hasOwnProperty.call(this.lexer.engine.tokens.values,this.token)?t=[this.lexer.engine.tokens.values[this.token],t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset]:t=[null,t,this.lexer.yylloc.first_line,this.lexer.yylloc.first_offset,this.lexer.offset],this._tokens.push(t),this.token===this.tok.T_CLOSE_TAG)return this.token=";",this;if(this.token===this.tok.T_OPEN_TAG_WITH_ECHO)return this.token=this.tok.T_ECHO,this}while(this.token===this.tok.T_WHITESPACE||!this.extractDoc&&(this.token===this.tok.T_COMMENT||this.token===this.tok.T_DOC_COMMENT)||this.token===this.tok.T_OPEN_TAG);else this.token=this.lexer.lex()||this.EOF;return this};y.prototype.is=function(t){return Array.isArray(t)?t.indexOf(this.token)!==-1:this.entries[t].has(this.token)};[Cn(),bn(),Rn(),Dn(),vn(),Un(),Mn(),qn(),Hn(),$n(),Qn(),jn(),Xn(),Zn(),er(),sr()].forEach(function(t){for(let e in t){if(Object.prototype.hasOwnProperty.call(y.prototype,e))throw new Error("Function "+e+" is already defined - collision");y.prototype[e]=t[e]}});nr.exports=y});var ar=h((Ck,hr)=>{"use strict";var or={T_HALT_COMPILER:101,T_USE:102,T_ENCAPSED_AND_WHITESPACE:103,T_OBJECT_OPERATOR:104,T_STRING:105,T_DOLLAR_OPEN_CURLY_BRACES:106,T_STRING_VARNAME:107,T_CURLY_OPEN:108,T_NUM_STRING:109,T_ISSET:110,T_EMPTY:111,T_INCLUDE:112,T_INCLUDE_ONCE:113,T_EVAL:114,T_REQUIRE:115,T_REQUIRE_ONCE:116,T_NAMESPACE:117,T_NS_SEPARATOR:118,T_AS:119,T_IF:120,T_ENDIF:121,T_WHILE:122,T_DO:123,T_FOR:124,T_SWITCH:125,T_BREAK:126,T_CONTINUE:127,T_RETURN:128,T_GLOBAL:129,T_STATIC:130,T_ECHO:131,T_INLINE_HTML:132,T_UNSET:133,T_FOREACH:134,T_DECLARE:135,T_TRY:136,T_THROW:137,T_GOTO:138,T_FINALLY:139,T_CATCH:140,T_ENDDECLARE:141,T_LIST:142,T_CLONE:143,T_PLUS_EQUAL:144,T_MINUS_EQUAL:145,T_MUL_EQUAL:146,T_DIV_EQUAL:147,T_CONCAT_EQUAL:148,T_MOD_EQUAL:149,T_AND_EQUAL:150,T_OR_EQUAL:151,T_XOR_EQUAL:152,T_SL_EQUAL:153,T_SR_EQUAL:154,T_INC:155,T_DEC:156,T_BOOLEAN_OR:157,T_BOOLEAN_AND:158,T_LOGICAL_OR:159,T_LOGICAL_AND:160,T_LOGICAL_XOR:161,T_SL:162,T_SR:163,T_IS_IDENTICAL:164,T_IS_NOT_IDENTICAL:165,T_IS_EQUAL:166,T_IS_NOT_EQUAL:167,T_IS_SMALLER_OR_EQUAL:168,T_IS_GREATER_OR_EQUAL:169,T_INSTANCEOF:170,T_INT_CAST:171,T_DOUBLE_CAST:172,T_STRING_CAST:173,T_ARRAY_CAST:174,T_OBJECT_CAST:175,T_BOOL_CAST:176,T_UNSET_CAST:177,T_EXIT:178,T_PRINT:179,T_YIELD:180,T_YIELD_FROM:181,T_FUNCTION:182,T_DOUBLE_ARROW:183,T_DOUBLE_COLON:184,T_ARRAY:185,T_CALLABLE:186,T_CLASS:187,T_ABSTRACT:188,T_TRAIT:189,T_FINAL:190,T_EXTENDS:191,T_INTERFACE:192,T_IMPLEMENTS:193,T_VAR:194,T_PUBLIC:195,T_PROTECTED:196,T_PRIVATE:197,T_CONST:198,T_NEW:199,T_INSTEADOF:200,T_ELSEIF:201,T_ELSE:202,T_ENDSWITCH:203,T_CASE:204,T_DEFAULT:205,T_ENDFOR:206,T_ENDFOREACH:207,T_ENDWHILE:208,T_CONSTANT_ENCAPSED_STRING:209,T_LNUMBER:210,T_DNUMBER:211,T_LINE:212,T_FILE:213,T_DIR:214,T_TRAIT_C:215,T_METHOD_C:216,T_FUNC_C:217,T_NS_C:218,T_START_HEREDOC:219,T_END_HEREDOC:220,T_CLASS_C:221,T_VARIABLE:222,T_OPEN_TAG:223,T_OPEN_TAG_WITH_ECHO:224,T_CLOSE_TAG:225,T_WHITESPACE:226,T_COMMENT:227,T_DOC_COMMENT:228,T_ELLIPSIS:229,T_COALESCE:230,T_POW:231,T_POW_EQUAL:232,T_SPACESHIP:233,T_COALESCE_EQUAL:234,T_FN:235,T_NULLSAFE_OBJECT_OPERATOR:236,T_MATCH:237,T_ATTRIBUTE:238,T_ENUM:239,T_READ_ONLY:240,T_NAME_RELATIVE:241,T_NAME_QUALIFIED:242,T_NAME_FULLY_QUALIFIED:243},Bd={values:Object.entries(or).reduce((t,[e,i])=>({...t,[i]:e}),{}),names:or};hr.exports=Object.freeze(Bd)});var lr=h((Lk,cr)=>{"use strict";var qd=function(t,e,i){this.source=t,this.start=e,this.end=i};cr.exports=qd});var m=h((bk,ur)=>{"use strict";var nt=function(e,i,s){this.kind=e,i&&(this.leadingComments=i),s&&(this.loc=s)};nt.prototype.setTrailingComments=function(t){this.trailingComments=t};nt.prototype.destroy=function(t){if(!t)throw new Error("Node already initialized, you must swap with another node");return this.leadingComments&&(t.leadingComments?t.leadingComments=Array.concat(this.leadingComments,t.leadingComments):t.leadingComments=this.leadingComments),this.trailingComments&&(t.trailingComments?t.trailingComments=Array.concat(this.trailingComments,t.trailingComments):t.trailingComments=this.trailingComments),t};nt.prototype.includeToken=function(t){return this.loc&&(this.loc.end&&(this.loc.end.line=t.lexer.yylloc.last_line,this.loc.end.column=t.lexer.yylloc.last_column,this.loc.end.offset=t.lexer.offset),t.ast.withSource&&(this.loc.source=t.lexer._input.substring(this.loc.start.offset,t.lexer.offset))),this};nt.extends=function(t,e){return e.prototype=Object.create(this.prototype),e.extends=this.extends,e.prototype.constructor=e,e.kind=t,e};ur.exports=nt});var T=h((gk,pr)=>{"use strict";var fr=m(),_r="expression";pr.exports=fr.extends(_r,function(e,i,s){fr.apply(this,[e||_r,i,s])})});var kr=h((Rk,xr)=>{"use strict";var dr=T(),Tr="array";xr.exports=dr.extends(Tr,function(e,i,s,n){dr.apply(this,[Tr,s,n]),this.items=i,this.shortForm=e})});var Ar=h((Ok,yr)=>{"use strict";var Er=T(),mr="arrowfunc";yr.exports=Er.extends(mr,function(e,i,s,n,r,o,a,c){Er.apply(this,[mr,a,c]),this.arguments=e,this.byref=i,this.body=s,this.type=n,this.nullable=r,this.isStatic=o||!1})});var Cr=h((Dk,Sr)=>{"use strict";var Ir=T(),Nr="assign";Sr.exports=Ir.extends(Nr,function(e,i,s,n,r){Ir.apply(this,[Nr,n,r]),this.left=e,this.right=i,this.operator=s})});var Rr=h((wk,gr)=>{"use strict";var Lr=T(),br="assignref";gr.exports=Lr.extends(br,function(e,i,s,n){Lr.apply(this,[br,s,n]),this.left=e,this.right=i})});var vr=h((vk,wr)=>{"use strict";var Or=m(),Dr="attribute";wr.exports=Or.extends(Dr,function(e,i,s,n){Or.apply(this,[Dr,s,n]),this.name=e,this.args=i})});var Mr=h((Pk,Fr)=>{"use strict";var Pr=m(),Ur="attrgroup";Fr.exports=Pr.extends(Ur,function(e,i,s){Pr.apply(this,[Ur,i,s]),this.attrs=e||[]})});var G=h((Uk,Gr)=>{"use strict";var Br=T(),qr="operation";Gr.exports=Br.extends(qr,function(e,i,s){Br.apply(this,[e||qr,i,s])})});var Vr=h((Fk,$r)=>{"use strict";var Hr=G(),Kr="bin";$r.exports=Hr.extends(Kr,function(e,i,s,n,r){Hr.apply(this,[Kr,n,r]),this.type=e,this.left=i,this.right=s})});var x=h((Mk,Yr)=>{"use strict";var Wr=m(),Qr="statement";Yr.exports=Wr.extends(Qr,function(e,i,s){Wr.apply(this,[e||Qr,i,s])})});var rt=h((Bk,Xr)=>{"use strict";var jr=x(),zr="block";Xr.exports=jr.extends(zr,function(e,i,s,n){jr.apply(this,[e||zr,s,n]),this.children=i.filter(Boolean)})});var v=h((qk,to)=>{"use strict";var Jr=T(),Zr="literal";to.exports=Jr.extends(Zr,function(e,i,s,n,r){Jr.apply(this,[e||Zr,n,r]),this.value=i,s&&(this.raw=s)})});var no=h((Gk,so)=>{"use strict";var eo=v(),io="boolean";so.exports=eo.extends(io,function(e,i,s,n){eo.apply(this,[io,e,i,s,n])})});var ao=h((Hk,ho)=>{"use strict";var ro=x(),oo="break";ho.exports=ro.extends(oo,function(e,i,s){ro.apply(this,[oo,i,s]),this.level=e})});var fo=h((Kk,uo)=>{"use strict";var co=T(),lo="byref";uo.exports=co.extends(lo,function(e,i,s){co.apply(this,[lo,i,s]),this.what=e})});var xo=h(($k,To)=>{"use strict";var _o=T(),po="call";To.exports=_o.extends(po,function(e,i,s,n){_o.apply(this,[po,s,n]),this.what=e,this.arguments=i})});var yo=h((Vk,mo)=>{"use strict";var ko=x(),Eo="case";mo.exports=ko.extends(Eo,function(e,i,s,n){ko.apply(this,[Eo,s,n]),this.test=e,this.body=i})});var So=h((Wk,No)=>{"use strict";var Ao=G(),Io="cast";No.exports=Ao.extends(Io,function(e,i,s,n,r){Ao.apply(this,[Io,n,r]),this.type=e,this.raw=i,this.expr=s})});var go=h((Qk,bo)=>{"use strict";var Co=x(),Lo="catch";bo.exports=Co.extends(Lo,function(e,i,s,n,r){Co.apply(this,[Lo,n,r]),this.body=e,this.what=i,this.variable=s})});var O=h((Yk,wo)=>{"use strict";var Ro=x(),Oo="declaration",Gd="",Hd="public",Kd="protected",$d="private",Do=Ro.extends(Oo,function(e,i,s,n){Ro.apply(this,[e||Oo,s,n]),this.name=i});Do.prototype.parseFlags=function(t){this.isAbstract=t[2]===1,this.isFinal=t[2]===2,this.isReadonly=t[3]===1,this.kind!=="class"&&(t[0]===-1?this.visibility=Gd:t[0]===null?this.visibility=null:t[0]===0?this.visibility=Hd:t[0]===1?this.visibility=Kd:t[0]===2&&(this.visibility=$d),this.isStatic=t[1]===1)};wo.exports=Do});var Fo=h((jk,Uo)=>{"use strict";var vo=O(),Po="class";Uo.exports=vo.extends(Po,function(e,i,s,n,r,o,a){vo.apply(this,[Po,e,o,a]),this.isAnonymous=!e,this.extends=i,this.implements=s,this.body=n,this.attrGroups=[],this.parseFlags(r)})});var ve=h((zk,qo)=>{"use strict";var Mo=x(),Bo="constantstatement";qo.exports=Mo.extends(Bo,function(e,i,s,n){Mo.apply(this,[e||Bo,s,n]),this.constants=i})});var Vo=h((Xk,$o)=>{"use strict";var Go=ve(),Ho="classconstant",Vd="",Wd="public",Qd="protected",Yd="private",Ko=Go.extends(Ho,function(e,i,s,n,r,o){Go.apply(this,[e||Ho,i,r,o]),this.parseFlags(s),this.attrGroups=n});Ko.prototype.parseFlags=function(t){t[0]===-1?this.visibility=Vd:t[0]===null?this.visibility=null:t[0]===0?this.visibility=Wd:t[0]===1?this.visibility=Qd:t[0]===2&&(this.visibility=Yd),this.final=t[2]===2};$o.exports=Ko});var jo=h((Jk,Yo)=>{"use strict";var Wo=T(),Qo="clone";Yo.exports=Wo.extends(Qo,function(e,i,s){Wo.apply(this,[Qo,i,s]),this.what=e})});var Zo=h((Zk,Jo)=>{"use strict";var zo=T(),Xo="closure";Jo.exports=zo.extends(Xo,function(e,i,s,n,r,o,a,c){zo.apply(this,[Xo,a,c]),this.uses=s,this.arguments=e,this.byref=i,this.type=n,this.nullable=r,this.isStatic=o||!1,this.body=null,this.attrGroups=[]})});var vt=h((tE,eh)=>{"use strict";var th=m();eh.exports=th.extends("comment",function(e,i,s,n){th.apply(this,[e,s,n]),this.value=i})});var rh=h((eE,nh)=>{"use strict";var ih=vt(),sh="commentblock";nh.exports=ih.extends(sh,function(e,i,s){ih.apply(this,[sh,e,i,s])})});var ch=h((iE,ah)=>{"use strict";var oh=vt(),hh="commentline";ah.exports=oh.extends(hh,function(e,i,s){oh.apply(this,[hh,e,i,s])})});var _h=h((sE,fh)=>{"use strict";var lh=m(),uh="constant";fh.exports=lh.extends(uh,function(e,i,s,n){lh.apply(this,[uh,s,n]),this.name=e,this.value=i})});var xh=h((nE,Th)=>{"use strict";var ph=x(),dh="continue";Th.exports=ph.extends(dh,function(e,i,s){ph.apply(this,[dh,i,s]),this.level=e})});var yh=h((rE,mh)=>{"use strict";var kh=rt(),Eh="declare",Pt=kh.extends(Eh,function(e,i,s,n,r){kh.apply(this,[Eh,i,n,r]),this.directives=e,this.mode=s});Pt.MODE_SHORT="short";Pt.MODE_BLOCK="block";Pt.MODE_NONE="none";mh.exports=Pt});var Sh=h((oE,Nh)=>{"use strict";var Ah=m(),Ih="declaredirective";Nh.exports=Ah.extends(Ih,function(e,i,s,n){Ah.apply(this,[Ih,s,n]),this.key=e,this.value=i})});var gh=h((hE,bh)=>{"use strict";var Ch=x(),Lh="do";bh.exports=Ch.extends(Lh,function(e,i,s,n){Ch.apply(this,[Lh,s,n]),this.test=e,this.body=i})});var wh=h((aE,Dh)=>{"use strict";var Rh=x(),Oh="echo";Dh.exports=Rh.extends(Oh,function(e,i,s,n){Rh.apply(this,[Oh,s,n]),this.shortForm=i,this.expressions=e})});var Fh=h((cE,Uh)=>{"use strict";var vh=T(),Ph="empty";Uh.exports=vh.extends(Ph,function(e,i,s){vh.apply(this,[Ph,i,s]),this.expression=e})});var Gh=h((lE,qh)=>{"use strict";var Mh=v(),Bh="encapsed",ot=Mh.extends(Bh,function(e,i,s,n,r){Mh.apply(this,[Bh,e,i,n,r]),this.type=s});ot.TYPE_STRING="string";ot.TYPE_SHELL="shell";ot.TYPE_HEREDOC="heredoc";ot.TYPE_OFFSET="offset";qh.exports=ot});var Vh=h((uE,$h)=>{"use strict";var Hh=T(),Kh="encapsedpart";$h.exports=Hh.extends(Kh,function(e,i,s,n,r){Hh.apply(this,[Kh,n,r]),this.expression=e,this.syntax=i,this.curly=s})});var jh=h((fE,Yh)=>{"use strict";var Wh=T(),Qh="entry";Yh.exports=Wh.extends(Qh,function(e,i,s,n,r,o){Wh.apply(this,[Qh,r,o]),this.key=e,this.value=i,this.byRef=s,this.unpack=n})});var Zh=h((_E,Jh)=>{"use strict";var zh=O(),Xh="enum";Jh.exports=zh.extends(Xh,function(e,i,s,n,r,o){zh.apply(this,[Xh,e,r,o]),this.valueType=i,this.implements=s,this.body=n,this.attrGroups=[]})});var sa=h((pE,ia)=>{"use strict";var ta=m(),ea="enumcase";ia.exports=ta.extends(ea,function(e,i,s,n){ta.apply(this,[ea,s,n]),this.name=e,this.value=i})});var ha=h((dE,oa)=>{"use strict";var na=m(),ra="error";oa.exports=na.extends(ra,function(e,i,s,n,r,o){na.apply(this,[ra,r,o]),this.message=e,this.token=i,this.line=s,this.expected=n})});var ua=h((TE,la)=>{"use strict";var aa=T(),ca="eval";la.exports=aa.extends(ca,function(e,i,s){aa.apply(this,[ca,i,s]),this.source=e})});var da=h((xE,pa)=>{"use strict";var fa=T(),_a="exit";pa.exports=fa.extends(_a,function(e,i,s,n){fa.apply(this,[_a,s,n]),this.expression=e,this.useDie=i})});var Ea=h((kE,ka)=>{"use strict";var Ta=x(),xa="expressionstatement";ka.exports=Ta.extends(xa,function(e,i,s){Ta.apply(this,[xa,i,s]),this.expression=e})});var Ia=h((EE,Aa)=>{"use strict";var ma=x(),ya="for";Aa.exports=ma.extends(ya,function(e,i,s,n,r,o,a){ma.apply(this,[ya,o,a]),this.init=e,this.test=i,this.increment=s,this.shortForm=r,this.body=n})});var La=h((mE,Ca)=>{"use strict";var Na=x(),Sa="foreach";Ca.exports=Na.extends(Sa,function(e,i,s,n,r,o,a){Na.apply(this,[Sa,o,a]),this.source=e,this.key=i,this.value=s,this.shortForm=r,this.body=n})});var Pe=h((yE,Ra)=>{"use strict";var ba=O(),ga="function";Ra.exports=ba.extends(ga,function(e,i,s,n,r,o,a){ba.apply(this,[ga,e,o,a]),this.arguments=i,this.byref=s,this.type=n,this.nullable=r,this.body=null,this.attrGroups=[]})});var va=h((AE,wa)=>{"use strict";var Oa=x(),Da="global";wa.exports=Oa.extends(Da,function(e,i,s){Oa.apply(this,[Da,i,s]),this.items=e})});var Ma=h((IE,Fa)=>{"use strict";var Pa=x(),Ua="goto";Fa.exports=Pa.extends(Ua,function(e,i,s){Pa.apply(this,[Ua,i,s]),this.label=e})});var Ha=h((NE,Ga)=>{"use strict";var Ba=x(),qa="halt";Ga.exports=Ba.extends(qa,function(e,i,s){Ba.apply(this,[qa,i,s]),this.after=e})});var Wa=h((SE,Va)=>{"use strict";var Ka=m(),$a="identifier",jd=Ka.extends($a,function(e,i,s){Ka.apply(this,[$a,i,s]),this.name=e});Va.exports=jd});var za=h((CE,ja)=>{"use strict";var Qa=x(),Ya="if";ja.exports=Qa.extends(Ya,function(e,i,s,n,r,o){Qa.apply(this,[Ya,r,o]),this.test=e,this.body=i,this.alternate=s,this.shortForm=n})});var tc=h((LE,Za)=>{"use strict";var Xa=T(),Ja="include";Za.exports=Xa.extends(Ja,function(e,i,s,n,r){Xa.apply(this,[Ja,n,r]),this.once=e,this.require=i,this.target=s})});var nc=h((bE,sc)=>{"use strict";var ec=v(),ic="inline";sc.exports=ec.extends(ic,function(e,i,s,n){ec.apply(this,[ic,e,i,s,n])})});var ac=h((gE,hc)=>{"use strict";var rc=O(),oc="interface";hc.exports=rc.extends(oc,function(e,i,s,n,r,o){rc.apply(this,[oc,e,r,o]),this.extends=i,this.body=s,this.attrGroups=n})});var fc=h((RE,uc)=>{"use strict";var cc=O(),lc="intersectiontype";uc.exports=cc.extends(lc,function(e,i,s){cc.apply(this,[lc,null,i,s]),this.types=e})});var Tc=h((OE,dc)=>{"use strict";var _c=T(),pc="isset";dc.exports=_c.extends(pc,function(e,i,s){_c.apply(this,[pc,i,s]),this.variables=e})});var mc=h((DE,Ec)=>{"use strict";var xc=x(),kc="label";Ec.exports=xc.extends(kc,function(e,i,s){xc.apply(this,[kc,i,s]),this.name=e})});var Nc=h((wE,Ic)=>{"use strict";var yc=T(),Ac="list";Ic.exports=yc.extends(Ac,function(e,i,s,n){yc.apply(this,[Ac,s,n]),this.items=e,this.shortForm=i})});var j=h((vE,Lc)=>{"use strict";var Sc=T(),Cc="lookup";Lc.exports=Sc.extends(Cc,function(e,i,s,n,r){Sc.apply(this,[e||Cc,n,r]),this.what=i,this.offset=s})});var Oc=h((PE,Rc)=>{"use strict";var bc=v(),gc="magic";Rc.exports=bc.extends(gc,function(e,i,s,n){bc.apply(this,[gc,e,i,s,n])})});var Pc=h((UE,vc)=>{"use strict";var Dc=T(),wc="match";vc.exports=Dc.extends(wc,function(e,i,s,n){Dc.apply(this,[wc,s,n]),this.cond=e,this.arms=i})});var Bc=h((FE,Mc)=>{"use strict";var Uc=T(),Fc="matcharm";Mc.exports=Uc.extends(Fc,function(e,i,s,n){Uc.apply(this,[Fc,s,n]),this.conds=e,this.body=i})});var Kc=h((ME,Hc)=>{"use strict";var qc=Pe(),Gc="method";Hc.exports=qc.extends(Gc,function(){qc.apply(this,arguments),this.kind=Gc})});var H=h((BE,Wc)=>{"use strict";var $c=m(),Vc="reference",zd=$c.extends(Vc,function(e,i,s){$c.apply(this,[e||Vc,i,s])});Wc.exports=zd});var zc=h((qE,jc)=>{"use strict";var Qc=H(),Yc="name",ht=Qc.extends(Yc,function(e,i,s,n){Qc.apply(this,[Yc,s,n]),this.name=e.replace(/\\$/,""),this.resolution=i});ht.UNQUALIFIED_NAME="uqn";ht.QUALIFIED_NAME="qn";ht.FULL_QUALIFIED_NAME="fqn";ht.RELATIVE_NAME="rn";jc.exports=ht});var tl=h((GE,Zc)=>{"use strict";var Xc=rt(),Jc="namespace";Zc.exports=Xc.extends(Jc,function(e,i,s,n,r){Xc.apply(this,[Jc,i,n,r]),this.name=e,this.withBrackets=s||!1})});var nl=h((HE,sl)=>{"use strict";var el=T(),il="namedargument";sl.exports=el.extends(il,function(e,i,s,n){el.apply(this,[il,s,n]),this.name=e,this.value=i})});var al=h((KE,hl)=>{"use strict";var rl=T(),ol="new";hl.exports=rl.extends(ol,function(e,i,s,n){rl.apply(this,[ol,s,n]),this.what=e,this.arguments=i})});var fl=h(($E,ul)=>{"use strict";var cl=m(),ll="noop";ul.exports=cl.extends(ll,function(e,i){cl.apply(this,[ll,e,i])})});var Tl=h((VE,dl)=>{"use strict";var _l=v(),pl="nowdoc";dl.exports=_l.extends(pl,function(e,i,s,n,r){_l.apply(this,[pl,e,i,n,r]),this.label=s})});var ml=h((WE,El)=>{"use strict";var xl=m(),kl="nullkeyword";El.exports=xl.extends(kl,function(e,i,s){xl.apply(this,[kl,i,s]),this.raw=e})});var Nl=h((QE,Il)=>{"use strict";var yl=j(),Al="nullsafepropertylookup";Il.exports=yl.extends(Al,function(e,i,s,n){yl.apply(this,[Al,e,i,s,n])})});var bl=h((YE,Ll)=>{"use strict";var Sl=v(),Cl="number";Ll.exports=Sl.extends(Cl,function(e,i,s,n){Sl.apply(this,[Cl,e,i,s,n])})});var Dl=h((jE,Ol)=>{"use strict";var gl=j(),Rl="offsetlookup";Ol.exports=gl.extends(Rl,function(e,i,s,n){gl.apply(this,[Rl,e,i,s,n])})});var Ul=h((zE,Pl)=>{"use strict";var wl=O(),vl="parameter";Pl.exports=wl.extends(vl,function(e,i,s,n,r,o,a,c,l,u){wl.apply(this,[vl,e,l,u]),this.value=s,this.type=i,this.byref=n,this.variadic=r,this.readonly=o,this.nullable=a,this.flags=c||0,this.attrGroups=[]})});var ql=h((XE,Bl)=>{"use strict";var Fl=H(),Ml="parentreference",Xd=Fl.extends(Ml,function(e,i,s){Fl.apply(this,[Ml,i,s]),this.raw=e});Bl.exports=Xd});var $l=h((JE,Kl)=>{"use strict";var Gl=G(),Hl="post";Kl.exports=Gl.extends(Hl,function(e,i,s,n){Gl.apply(this,[Hl,s,n]),this.type=e,this.what=i})});var Yl=h((ZE,Ql)=>{"use strict";var Vl=G(),Wl="pre";Ql.exports=Vl.extends(Wl,function(e,i,s,n){Vl.apply(this,[Wl,s,n]),this.type=e,this.what=i})});var Jl=h((tm,Xl)=>{"use strict";var jl=T(),zl="print";Xl.exports=jl.extends(zl,function(e,i,s){jl.apply(this,[zl,i,s]),this.expression=e})});var iu=h((em,eu)=>{"use strict";var Zl=rt(),tu="program";eu.exports=Zl.extends(tu,function(e,i,s,n,r,o){Zl.apply(this,[tu,e,r,o]),this.errors=i,s&&(this.comments=s),n&&(this.tokens=n)})});var ou=h((im,ru)=>{"use strict";var su=x(),nu="property";ru.exports=su.extends(nu,function(e,i,s,n,r,o,a,c){su.apply(this,[nu,a,c]),this.name=e,this.value=i,this.readonly=s,this.nullable=n,this.type=r,this.attrGroups=o})});var lu=h((sm,cu)=>{"use strict";var hu=j(),au="propertylookup";cu.exports=hu.extends(au,function(e,i,s,n){hu.apply(this,[au,e,i,s,n])})});var du=h((nm,pu)=>{"use strict";var uu=x(),fu="propertystatement",Jd="",Zd="public",tT="protected",eT="private",_u=uu.extends(fu,function(e,i,s,n,r){uu.apply(this,[fu,n,r]),this.properties=i,this.parseFlags(s)});_u.prototype.parseFlags=function(t){t[0]===-1?this.visibility=Jd:t[0]===null?this.visibility=null:t[0]===0?this.visibility=Zd:t[0]===1?this.visibility=tT:t[0]===2&&(this.visibility=eT),this.isStatic=t[1]===1};pu.exports=_u});var Eu=h((rm,ku)=>{"use strict";var Tu=T(),xu="retif";ku.exports=Tu.extends(xu,function(e,i,s,n,r){Tu.apply(this,[xu,n,r]),this.test=e,this.trueExpr=i,this.falseExpr=s})});var Iu=h((om,Au)=>{"use strict";var mu=x(),yu="return";Au.exports=mu.extends(yu,function(e,i,s){mu.apply(this,[yu,i,s]),this.expr=e})});var Lu=h((hm,Cu)=>{"use strict";var Nu=H(),Su="selfreference",iT=Nu.extends(Su,function(e,i,s){Nu.apply(this,[Su,i,s]),this.raw=e});Cu.exports=iT});var Ou=h((am,Ru)=>{"use strict";var bu=T(),gu="silent";Ru.exports=bu.extends(gu,function(e,i,s){bu.apply(this,[gu,i,s]),this.expr=e})});var Pu=h((cm,vu)=>{"use strict";var Du=x(),wu="static";vu.exports=Du.extends(wu,function(e,i,s){Du.apply(this,[wu,i,s]),this.variables=e})});var Bu=h((lm,Mu)=>{"use strict";var Uu=m(),Fu="staticvariable";Mu.exports=Uu.extends(Fu,function(e,i,s,n){Uu.apply(this,[Fu,s,n]),this.variable=e,this.defaultValue=i})});var Ku=h((um,Hu)=>{"use strict";var qu=j(),Gu="staticlookup";Hu.exports=qu.extends(Gu,function(e,i,s,n){qu.apply(this,[Gu,e,i,s,n])})});var Qu=h((fm,Wu)=>{"use strict";var $u=H(),Vu="staticreference",sT=$u.extends(Vu,function(e,i,s){$u.apply(this,[Vu,i,s]),this.raw=e});Wu.exports=sT});var Xu=h((_m,zu)=>{"use strict";var Yu=v(),ju="string";zu.exports=Yu.extends(ju,function(e,i,s,n,r,o){Yu.apply(this,[ju,i,n,r,o]),this.unicode=s,this.isDoubleQuote=e})});var ef=h((pm,tf)=>{"use strict";var Ju=x(),Zu="switch";tf.exports=Ju.extends(Zu,function(e,i,s,n,r){Ju.apply(this,[Zu,n,r]),this.test=e,this.body=i,this.shortForm=s})});var of=h((dm,rf)=>{"use strict";var sf=x(),nf="throw";rf.exports=sf.extends(nf,function(e,i,s){sf.apply(this,[nf,i,s]),this.what=e})});var lf=h((Tm,cf)=>{"use strict";var hf=O(),af="trait";cf.exports=hf.extends(af,function(e,i,s,n){hf.apply(this,[af,e,s,n]),this.body=i})});var pf=h((xm,_f)=>{"use strict";var uf=m(),ff="traitalias",nT="",rT="public",oT="protected",hT="private";_f.exports=uf.extends(ff,function(e,i,s,n,r,o){uf.apply(this,[ff,r,o]),this.trait=e,this.method=i,this.as=s,this.visibility=nT,n&&(n[0]===0?this.visibility=rT:n[0]===1?this.visibility=oT:n[0]===2&&(this.visibility=hT))})});var kf=h((km,xf)=>{"use strict";var df=m(),Tf="traitprecedence";xf.exports=df.extends(Tf,function(e,i,s,n,r){df.apply(this,[Tf,n,r]),this.trait=e,this.method=i,this.instead=s})});var Af=h((Em,yf)=>{"use strict";var Ef=m(),mf="traituse";yf.exports=Ef.extends(mf,function(e,i,s,n){Ef.apply(this,[mf,s,n]),this.traits=e,this.adaptations=i})});var Cf=h((mm,Sf)=>{"use strict";var If=x(),Nf="try";Sf.exports=If.extends(Nf,function(e,i,s,n,r){If.apply(this,[Nf,n,r]),this.body=e,this.catches=i,this.always=s})});var Of=h((ym,Rf)=>{"use strict";var Lf=H(),bf="typereference",gf=Lf.extends(bf,function(e,i,s,n){Lf.apply(this,[bf,s,n]),this.name=e,this.raw=i});gf.types=["int","float","string","bool","object","array","callable","iterable","void","static"];Rf.exports=gf});var Pf=h((Am,vf)=>{"use strict";var Df=G(),wf="unary";vf.exports=Df.extends(wf,function(e,i,s,n){Df.apply(this,[wf,s,n]),this.type=e,this.what=i})});var Bf=h((Im,Mf)=>{"use strict";var Uf=O(),Ff="uniontype";Mf.exports=Uf.extends(Ff,function(e,i,s){Uf.apply(this,[Ff,null,i,s]),this.types=e})});var Kf=h((Nm,Hf)=>{"use strict";var qf=x(),Gf="unset";Hf.exports=qf.extends(Gf,function(e,i,s){qf.apply(this,[Gf,i,s]),this.variables=e})});var Qf=h((Sm,Wf)=>{"use strict";var $f=x(),Vf="usegroup";Wf.exports=$f.extends(Vf,function(e,i,s,n,r){$f.apply(this,[Vf,n,r]),this.name=e,this.type=i,this.items=s})});var Xf=h((Cm,zf)=>{"use strict";var Yf=x(),jf="useitem",Ue=Yf.extends(jf,function(e,i,s,n,r){Yf.apply(this,[jf,n,r]),this.name=e,this.alias=i,this.type=s});Ue.TYPE_CONST="const";Ue.TYPE_FUNCTION="function";zf.exports=Ue});var e_=h((Lm,t_)=>{"use strict";var Jf=T(),Zf="variable";t_.exports=Jf.extends(Zf,function(e,i,s,n){Jf.apply(this,[Zf,s,n]),this.name=e,this.curly=i||!1})});var r_=h((bm,n_)=>{"use strict";var i_=T(),s_="variadic";n_.exports=i_.extends(s_,function(e,i,s){i_.apply(this,[s_,i,s]),this.what=e})});var c_=h((gm,a_)=>{"use strict";var o_=m(),h_="variadicplaceholder";a_.exports=o_.extends(h_,function(e,i){o_.apply(this,[h_,e,i])})});var __=h((Rm,f_)=>{"use strict";var l_=x(),u_="while";f_.exports=l_.extends(u_,function(e,i,s,n,r){l_.apply(this,[u_,n,r]),this.test=e,this.body=i,this.shortForm=s})});var x_=h((Om,T_)=>{"use strict";var p_=T(),d_="yield";T_.exports=p_.extends(d_,function(e,i,s,n){p_.apply(this,[d_,s,n]),this.value=e,this.key=i})});var y_=h((Dm,m_)=>{"use strict";var k_=T(),E_="yieldfrom";m_.exports=k_.extends(E_,function(e,i,s){k_.apply(this,[E_,i,s]),this.value=e})});var I_=h((wm,A_)=>{"use strict";var aT=lr(),cT=Oe(),N=function(t,e){this.withPositions=t,this.withSource=e};N.precedence={};[["or"],["xor"],["and"],["="],["?"],["??"],["||"],["&&"],["|"],["^"],["&"],["==","!=","===","!==","<=>"],["<","<=",">",">="],["<<",">>"],["+","-","."],["*","/","%"],["!"],["instanceof"],["cast","silent"],["**"]].forEach(function(t,e){t.forEach(function(i){N.precedence[i]=e+1})});N.prototype.isRightAssociative=function(t){return t==="**"||t==="??"};N.prototype.swapLocations=function(t,e,i,s){this.withPositions&&(t.loc.start=e.loc.start,t.loc.end=i.loc.end,this.withSource&&(t.loc.source=s.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))};N.prototype.resolveLocations=function(t,e,i,s){this.withPositions&&(t.loc.start.offset>e.loc.start.offset&&(t.loc.start=e.loc.start),t.loc.end.offset<i.loc.end.offset&&(t.loc.end=i.loc.end),this.withSource&&(t.loc.source=s.lexer._input.substring(t.loc.start.offset,t.loc.end.offset)))};N.prototype.resolvePrecedence=function(t,e){let i,s,n;return t.kind==="call"?this.resolveLocations(t,t.what,t,e):t.kind==="propertylookup"||t.kind==="staticlookup"||t.kind==="offsetlookup"&&t.offset?this.resolveLocations(t,t.what,t.offset,e):t.kind==="bin"?t.right&&!t.right.parenthesizedExpression&&(t.right.kind==="bin"?(s=N.precedence[t.type],n=N.precedence[t.right.type],s&&n&&n<=s&&(t.type!==t.right.type||!this.isRightAssociative(t.type))&&(i=t.right,t.right=t.right.left,this.swapLocations(t,t.left,t.right,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i)):t.right.kind==="retif"&&(s=N.precedence[t.type],n=N.precedence["?"],s&&n&&n<=s&&(i=t.right,t.right=t.right.test,this.swapLocations(t,t.left,t.right,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i))):(t.kind==="silent"||t.kind==="cast")&&t.expr&&!t.expr.parenthesizedExpression?t.expr.kind==="bin"?(i=t.expr,t.expr=t.expr.left,this.swapLocations(t,t,t.expr,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.expr.kind==="retif"&&(i=t.expr,t.expr=t.expr.test,this.swapLocations(t,t,t.expr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):t.kind==="unary"?t.what&&!t.what.parenthesizedExpression&&(t.what.kind==="bin"?(i=t.what,t.what=t.what.left,this.swapLocations(t,t,t.what,e),i.left=this.resolvePrecedence(t,e),this.swapLocations(i,i.left,i.right,e),t=i):t.what.kind==="retif"&&(i=t.what,t.what=t.what.test,this.swapLocations(t,t,t.what,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i)):t.kind==="retif"?t.falseExpr&&t.falseExpr.kind==="retif"&&!t.falseExpr.parenthesizedExpression&&(i=t.falseExpr,t.falseExpr=i.test,this.swapLocations(t,t.test,t.falseExpr,e),i.test=this.resolvePrecedence(t,e),this.swapLocations(i,i.test,i.falseExpr,e),t=i):t.kind==="assign"?t.right&&t.right.kind==="bin"&&!t.right.parenthesizedExpression&&(s=N.precedence["="],n=N.precedence[t.right.type],s&&n&&n<s&&(i=t.right,t.right=t.right.left,i.left=t,this.swapLocations(i,i.left,t.right,e),t=i)):t.kind==="expressionstatement"&&this.swapLocations(t,t.expression,t,e),t};N.prototype.prepare=function(t,e,i){let s=null;(this.withPositions||this.withSource)&&(s=i.position());let n=this,r=function(){let o=null,a=Array.prototype.slice.call(arguments);if(a.push(e),n.withPositions||n.withSource){let u=null;n.withSource&&(u=i.lexer._input.substring(s.offset,i.prev[2])),o=new aT(u,s,new cT(i.prev[0],i.prev[1],i.prev[2])),a.push(o)}t||(t=a.shift());let c=n[t];if(typeof c!="function")throw new Error('Undefined node "'+t+'"');let l=Object.create(c.prototype);return c.apply(l,a),r.instance=l,r.trailingComments&&(l.trailingComments=r.trailingComments),typeof r.postBuild=="function"&&r.postBuild(l),i.debug&&delete n.stack[r.stackUid],n.resolvePrecedence(l,i)};return i.debug&&(this.stack||(this.stack={},this.stackUid=1),this.stack[++this.stackUid]={position:s,stack:new Error().stack.split(`
`).slice(3,5)},r.stackUid=this.stackUid),r.setTrailingComments=function(o){r.instance?r.instance.setTrailingComments(o):r.trailingComments=o},r.destroy=function(o){e&&(o?o.leadingComments?o.leadingComments=e.concat(o.leadingComments):o.leadingComments=e:i._docIndex=i._docs.length-e.length),i.debug&&delete n.stack[r.stackUid]},r};N.prototype.checkNodes=function(){let t=[];for(let e in this.stack)Object.prototype.hasOwnProperty.call(this.stack,e)&&(this.stack[e].key=e,t.push(this.stack[e]));return this.stack={},t};[kr(),Ar(),Cr(),Rr(),vr(),Mr(),Vr(),rt(),no(),ao(),fo(),xo(),yo(),So(),go(),Fo(),Vo(),jo(),Zo(),vt(),rh(),ch(),_h(),ve(),xh(),O(),yh(),Sh(),gh(),wh(),Fh(),Gh(),Vh(),jh(),Zh(),sa(),ha(),ua(),da(),T(),Ea(),Ia(),La(),Pe(),va(),Ma(),Ha(),Wa(),za(),tc(),nc(),ac(),fc(),Tc(),mc(),Nc(),v(),j(),Oc(),Pc(),Bc(),Kc(),zc(),tl(),nl(),al(),m(),fl(),Tl(),ml(),Nl(),bl(),Dl(),G(),Ul(),ql(),$l(),Yl(),Jl(),iu(),ou(),lu(),du(),H(),Eu(),Iu(),Lu(),Ou(),x(),Pu(),Bu(),Ku(),Qu(),Xu(),ef(),of(),lf(),pf(),kf(),Af(),Cf(),Of(),Pf(),Bf(),Kf(),Qf(),Xf(),e_(),r_(),c_(),__(),x_(),y_()].forEach(function(t){N.prototype[t.kind]=t});A_.exports=N});var b_=h((vm,P)=>{"use strict";var N_=In(),S_=rr(),C_=ar(),L_=I_();function Fe(t,e){let i=Object.keys(t),s=i.length;for(;s--;){let n=i[s],r=t[n];r===null?delete e[n]:typeof r=="function"?e[n]=r.bind(e):Array.isArray(r)?e[n]=Array.isArray(e[n])?e[n].concat(r):r:typeof r=="object"?e[n]=typeof e[n]=="object"?Fe(r,e[n]):r:e[n]=r}return e}var S=function(t){if(typeof this=="function")return new this(t);if(this.tokens=C_,this.lexer=new N_(this),this.ast=new L_,this.parser=new S_(this.lexer,this.ast),t&&typeof t=="object"){if(t.parser&&(t.lexer||(t.lexer={}),t.parser.version)){if(typeof t.parser.version=="string"){let e=t.parser.version.split(".");if(e=parseInt(e[0])*100+parseInt(e[1]),isNaN(e))throw new Error("Bad version number : "+t.parser.version);t.parser.version=e}else if(typeof t.parser.version!="number")throw new Error("Expecting a number for version");if(t.parser.version<500||t.parser.version>900)throw new Error("Can only handle versions between 5.x to 8.x")}Fe(t,this),this.lexer.version=this.parser.version}},Me=function(t){return typeof t.write=="function"?t.toString():t};S.create=function(t){return new S(t)};S.parseEval=function(t,e){return new S(e).parseEval(t)};S.prototype.parseEval=function(t){return this.lexer.mode_eval=!0,this.lexer.all_tokens=!1,t=Me(t),this.parser.parse(t,"eval")};S.parseCode=function(t,e,i){return typeof e=="object"&&!i&&(i=e,e="unknown"),new S(i).parseCode(t,e)};S.prototype.parseCode=function(t,e){return this.lexer.mode_eval=!1,this.lexer.all_tokens=!1,t=Me(t),this.parser.parse(t,e)};S.tokenGetAll=function(t,e){return new S(e).tokenGetAll(t)};S.prototype.tokenGetAll=function(t){this.lexer.mode_eval=!1,this.lexer.all_tokens=!0,t=Me(t);let e=this.lexer.EOF,i=this.tokens.values;this.lexer.setInput(t);let s=this.lexer.lex()||e,n=[];for(;s!=e;){let r=this.lexer.yytext;Object.prototype.hasOwnProperty.call(i,s)&&(r=[i[s],r,this.lexer.yylloc.first_line]),n.push(r),s=this.lexer.lex()||e}return n};P.exports=S;P.exports.tokens=C_;P.exports.lexer=N_;P.exports.AST=L_;P.exports.parser=S_;P.exports.combine=Fe;P.exports.Engine=S;P.exports.default=S});var dT={};B_(dT,{activate:()=>fT,deactivate:()=>pT});module.exports=q_(dT);var w_=A(Bt()),R=require("vscode");var F=require("vscode");function V(t){if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var ws=require("node:buffer"),vs=A(require("node:path"),1),bt=A(require("node:child_process"),1),tt=A(require("node:process"),1),Ps=A(wi(),1);function jt(t){let e=typeof t=="string"?`
`:`
`.charCodeAt(),i=typeof t=="string"?"\r":"\r".charCodeAt();return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===i&&(t=t.slice(0,-1)),t}var X=A(require("node:process"),1),Y=A(require("node:path"),1),vi=A(require("node:url"),1);function dt(t={}){let{env:e=process.env,platform:i=process.platform}=t;return i!=="win32"?"PATH":Object.keys(e).reverse().find(s=>s.toUpperCase()==="PATH")||"Path"}function Rp(t={}){let{cwd:e=X.default.cwd(),path:i=X.default.env[dt()],execPath:s=X.default.execPath}=t,n,r=e instanceof URL?vi.default.fileURLToPath(e):e,o=Y.default.resolve(r),a=[];for(;n!==o;)a.push(Y.default.join(o,"node_modules/.bin")),n=o,o=Y.default.resolve(o,"..");return a.push(Y.default.resolve(r,s,"..")),[...a,i].join(Y.default.delimiter)}function Pi({env:t=X.default.env,...e}={}){t={...t};let i=dt({env:t});return e.path=t[i],t[i]=Rp(e),t}var Op=(t,e,i,s)=>{if(i==="length"||i==="prototype"||i==="arguments"||i==="caller")return;let n=Object.getOwnPropertyDescriptor(t,i),r=Object.getOwnPropertyDescriptor(e,i);!Dp(n,r)&&s||Object.defineProperty(t,i,r)},Dp=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},wp=(t,e)=>{let i=Object.getPrototypeOf(e);i!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,i)},vp=(t,e)=>`/* Wrapped ${t}*/
${e}`,Pp=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),Up=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),Fp=(t,e,i)=>{let s=i===""?"":`with ${i.trim()}() `,n=vp.bind(null,s,e.toString());Object.defineProperty(n,"name",Up),Object.defineProperty(t,"toString",{...Pp,value:n})};function zt(t,e,{ignoreNonConfigurable:i=!1}={}){let{name:s}=t;for(let n of Reflect.ownKeys(e))Op(t,e,n,i);return wp(t,e),Fp(t,e,s),t}var Tt=new WeakMap,Ui=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let i,s=0,n=t.displayName||t.name||"<anonymous>",r=function(...o){if(Tt.set(r,++s),s===1)i=t.apply(this,o),t=null;else if(e.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return i};return zt(r,t),Tt.set(r,s),r};Ui.callCount=t=>{if(!Tt.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Tt.get(t)};var Fi=Ui;var Vi=A(require("node:process"),1);var Ki=require("node:os");var Mi=()=>{let t=qi-Bi+1;return Array.from({length:t},Mp)},Mp=(t,e)=>({name:`SIGRT${e+1}`,number:Bi+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),Bi=34,qi=64;var Hi=require("node:os");var Gi=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var Xt=()=>{let t=Mi();return[...Gi,...t].map(Bp)},Bp=({name:t,number:e,description:i,action:s,forced:n=!1,standard:r})=>{let{signals:{[t]:o}}=Hi.constants,a=o!==void 0;return{name:t,number:a?o:e,description:i,supported:a,action:s,forced:n,standard:r}};var qp=()=>{let t=Xt();return Object.fromEntries(t.map(Gp))},Gp=({name:t,number:e,description:i,supported:s,action:n,forced:r,standard:o})=>[t,{name:t,number:e,description:i,supported:s,action:n,forced:r,standard:o}],$i=qp(),Hp=()=>{let t=Xt(),e=64+1,i=Array.from({length:e},(s,n)=>Kp(n,t));return Object.assign({},...i)},Kp=(t,e)=>{let i=$p(t,e);if(i===void 0)return{};let{name:s,description:n,supported:r,action:o,forced:a,standard:c}=i;return{[t]:{name:s,number:t,description:n,supported:r,action:o,forced:a,standard:c}}},$p=(t,e)=>{let i=e.find(({name:s})=>Ki.constants.signals[s]===t);return i!==void 0?i:e.find(s=>s.number===t)},WT=Hp();var Vp=({timedOut:t,timeout:e,errorCode:i,signal:s,signalDescription:n,exitCode:r,isCanceled:o})=>t?`timed out after ${e} milliseconds`:o?"was canceled":i!==void 0?`failed with ${i}`:s!==void 0?`was killed with ${s} (${n})`:r!==void 0?`failed with exit code ${r}`:"failed",J=({stdout:t,stderr:e,all:i,error:s,signal:n,exitCode:r,command:o,escapedCommand:a,timedOut:c,isCanceled:l,killed:u,parsed:{options:{timeout:_,cwd:f=Vi.default.cwd()}}})=>{r=r===null?void 0:r,n=n===null?void 0:n;let p=n===void 0?void 0:$i[n].description,k=s&&s.code,D=`Command ${Vp({timedOut:c,timeout:_,errorCode:k,signal:n,signalDescription:p,exitCode:r,isCanceled:l})}: ${o}`,w=Object.prototype.toString.call(s)==="[object Error]",B=w?`${D}
${s.message}`:D,K=[B,e,t].filter(Boolean).join(`
`);return w?(s.originalMessage=s.message,s.message=K):s=new Error(K),s.shortMessage=B,s.command=o,s.escapedCommand=a,s.exitCode=r,s.signal=n,s.signalDescription=p,s.stdout=t,s.stderr=e,s.cwd=f,i!==void 0&&(s.all=i),"bufferedData"in s&&delete s.bufferedData,s.failed=!0,s.timedOut=!!c,s.isCanceled=l,s.killed=u&&!c,s};var xt=["stdin","stdout","stderr"],Wp=t=>xt.some(e=>t[e]!==void 0),Wi=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return xt.map(s=>t[s]);if(Wp(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${xt.map(s=>`\`${s}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let i=Math.max(e.length,xt.length);return Array.from({length:i},(s,n)=>e[n])};var Yi=A(require("node:os"),1);var q=[];q.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&q.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&q.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var kt=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",Jt=Symbol.for("signal-exit emitter"),Zt=globalThis,Qp=Object.defineProperty.bind(Object),te=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(Zt[Jt])return Zt[Jt];Qp(Zt,Jt,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,i){this.listeners[e].push(i)}removeListener(e,i){let s=this.listeners[e],n=s.indexOf(i);n!==-1&&(n===0&&s.length===1?s.length=0:s.splice(n,1))}emit(e,i,s){if(this.emitted[e])return!1;this.emitted[e]=!0;let n=!1;for(let r of this.listeners[e])n=r(i,s)===!0||n;return e==="exit"&&(n=this.emit("afterExit",i,s)||n),n}},Et=class{},Yp=t=>({onExit(e,i){return t.onExit(e,i)},load(){return t.load()},unload(){return t.unload()}}),ee=class extends Et{onExit(){return()=>{}}load(){}unload(){}},ie=class extends Et{#o=se.platform==="win32"?"SIGINT":"SIGHUP";#e=new te;#t;#n;#r;#s={};#i=!1;constructor(e){super(),this.#t=e,this.#s={};for(let i of q)this.#s[i]=()=>{let s=this.#t.listeners(i),{count:n}=this.#e,r=e;if(typeof r.__signal_exit_emitter__=="object"&&typeof r.__signal_exit_emitter__.count=="number"&&(n+=r.__signal_exit_emitter__.count),s.length===n){this.unload();let o=this.#e.emit("exit",null,i),a=i==="SIGHUP"?this.#o:i;o||e.kill(e.pid,a)}};this.#r=e.reallyExit,this.#n=e.emit}onExit(e,i){if(!kt(this.#t))return()=>{};this.#i===!1&&this.load();let s=i?.alwaysLast?"afterExit":"exit";return this.#e.on(s,e),()=>{this.#e.removeListener(s,e),this.#e.listeners.exit.length===0&&this.#e.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#i){this.#i=!0,this.#e.count+=1;for(let e of q)try{let i=this.#s[e];i&&this.#t.on(e,i)}catch{}this.#t.emit=(e,...i)=>this.#a(e,...i),this.#t.reallyExit=e=>this.#h(e)}}unload(){this.#i&&(this.#i=!1,q.forEach(e=>{let i=this.#s[e];if(!i)throw new Error("Listener not defined for signal: "+e);try{this.#t.removeListener(e,i)}catch{}}),this.#t.emit=this.#n,this.#t.reallyExit=this.#r,this.#e.count-=1)}#h(e){return kt(this.#t)?(this.#t.exitCode=e||0,this.#e.emit("exit",this.#t.exitCode,null),this.#r.call(this.#t,this.#t.exitCode)):0}#a(e,...i){let s=this.#n;if(e==="exit"&&kt(this.#t)){typeof i[0]=="number"&&(this.#t.exitCode=i[0]);let n=s.call(this.#t,e,...i);return this.#e.emit("exit",this.#t.exitCode,null),n}else return s.call(this.#t,e,...i)}},se=globalThis.process,{onExit:Qi,load:ZT,unload:tx}=Yp(kt(se)?new ie(se):new ee);var jp=1e3*5,ji=(t,e="SIGTERM",i={})=>{let s=t(e);return zp(t,e,i,s),s},zp=(t,e,i,s)=>{if(!Xp(e,i,s))return;let n=Zp(i),r=setTimeout(()=>{t("SIGKILL")},n);r.unref&&r.unref()},Xp=(t,{forceKillAfterTimeout:e},i)=>Jp(t)&&e!==!1&&i,Jp=t=>t===Yi.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",Zp=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return jp;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},zi=(t,e)=>{t.kill()&&(e.isCanceled=!0)},td=(t,e,i)=>{t.kill(e),i(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},Xi=(t,{timeout:e,killSignal:i="SIGTERM"},s)=>{if(e===0||e===void 0)return s;let n,r=new Promise((a,c)=>{n=setTimeout(()=>{td(t,i,c)},e)}),o=s.finally(()=>{clearTimeout(n)});return Promise.race([r,o])},Ji=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Zi=async(t,{cleanup:e,detached:i},s)=>{if(!e||i)return s;let n=Qi(()=>{t.kill()});return s.finally(()=>{n()})};var ts=require("node:fs"),es=require("node:child_process");function mt(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function ne(t){return mt(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}var ed=t=>t instanceof es.ChildProcess&&typeof t.then=="function",re=(t,e,i)=>{if(typeof i=="string")return t[e].pipe((0,ts.createWriteStream)(i)),t;if(ne(i))return t[e].pipe(i),t;if(!ed(i))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!ne(i.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(i.stdin),i},is=t=>{t.stdout!==null&&(t.pipeStdout=re.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=re.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=re.bind(void 0,t,"all"))};var Ct=require("node:fs"),ps=require("node:timers/promises");var Z=async(t,{init:e,convertChunk:i,getSize:s,truncateChunk:n,addChunk:r,getFinalChunk:o,finalize:a},{maxBuffer:c=Number.POSITIVE_INFINITY}={})=>{if(!sd(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");let l=e();l.length=0;try{for await(let u of t){let _=nd(u),f=i[_](u,l);rs({convertedChunk:f,state:l,getSize:s,truncateChunk:n,addChunk:r,maxBuffer:c})}return id({state:l,convertChunk:i,getSize:s,truncateChunk:n,addChunk:r,getFinalChunk:o,maxBuffer:c}),a(l)}catch(u){throw u.bufferedData=a(l),u}},id=({state:t,getSize:e,truncateChunk:i,addChunk:s,getFinalChunk:n,maxBuffer:r})=>{let o=n(t);o!==void 0&&rs({convertedChunk:o,state:t,getSize:e,truncateChunk:i,addChunk:s,maxBuffer:r})},rs=({convertedChunk:t,state:e,getSize:i,truncateChunk:s,addChunk:n,maxBuffer:r})=>{let o=i(t),a=e.length+o;if(a<=r){ss(t,e,n,a);return}let c=s(t,r-e.length);throw c!==void 0&&ss(c,e,n,r),new yt},ss=(t,e,i,s)=>{e.contents=i(t,e,s),e.length=s},sd=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",nd=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let i=ns.call(t);return i==="[object ArrayBuffer]"?"arrayBuffer":i==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&ns.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:ns}=Object.prototype,yt=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var oe=t=>t,he=()=>{},ae=({contents:t})=>t,At=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},It=t=>t.length;async function ce(t,e){return Z(t,_d,e)}var rd=()=>({contents:new ArrayBuffer(0)}),od=t=>hd.encode(t),hd=new TextEncoder,os=t=>new Uint8Array(t),hs=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),ad=(t,e)=>t.slice(0,e),cd=(t,{contents:e,length:i},s)=>{let n=ls()?ud(e,s):ld(e,s);return new Uint8Array(n).set(t,i),n},ld=(t,e)=>{if(e<=t.byteLength)return t;let i=new ArrayBuffer(cs(e));return new Uint8Array(i).set(new Uint8Array(t),0),i},ud=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let i=new ArrayBuffer(e,{maxByteLength:cs(e)});return new Uint8Array(i).set(new Uint8Array(t),0),i},cs=t=>as**Math.ceil(Math.log(t)/Math.log(as)),as=2,fd=({contents:t,length:e})=>ls()?t:t.slice(0,e),ls=()=>"resize"in ArrayBuffer.prototype,_d={init:rd,convertChunk:{string:od,buffer:os,arrayBuffer:os,dataView:hs,typedArray:hs,others:At},getSize:It,truncateChunk:ad,addChunk:cd,getFinalChunk:he,finalize:fd};async function Nt(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return us(await ce(t,e))}catch(i){throw i.bufferedData!==void 0&&(i.bufferedData=us(i.bufferedData)),i}}var us=t=>globalThis.Buffer.from(t);async function le(t,e){return Z(t,kd,e)}var pd=()=>({contents:"",textDecoder:new TextDecoder}),St=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),dd=(t,{contents:e})=>e+t,Td=(t,e)=>t.slice(0,e),xd=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},kd={init:pd,convertChunk:{string:oe,buffer:St,arrayBuffer:St,dataView:St,typedArray:St,others:At},getSize:It,truncateChunk:Td,addChunk:dd,getFinalChunk:xd,finalize:ae};var ds=A(_s(),1),Ts=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},md=({input:t,inputFile:e})=>typeof e!="string"?t:(Ts(t),(0,Ct.readFileSync)(e)),xs=t=>{let e=md(t);if(mt(e))throw new TypeError("The `input` option cannot be a stream in sync mode");return e},yd=({input:t,inputFile:e})=>typeof e!="string"?t:(Ts(t),(0,Ct.createReadStream)(e)),ks=(t,e)=>{let i=yd(e);i!==void 0&&(mt(i)?i.pipe(t.stdin):t.stdin.end(i))},Es=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let i=(0,ds.default)();return t.stdout&&i.add(t.stdout),t.stderr&&i.add(t.stderr),i},ue=async(t,e)=>{if(!(!t||e===void 0)){await(0,ps.setTimeout)(0),t.destroy();try{return await e}catch(i){return i.bufferedData}}},fe=(t,{encoding:e,buffer:i,maxBuffer:s})=>{if(!(!t||!i))return e==="utf8"||e==="utf-8"?le(t,{maxBuffer:s}):e===null||e==="buffer"?Nt(t,{maxBuffer:s}):Ad(t,s,e)},Ad=async(t,e,i)=>(await Nt(t,{maxBuffer:e})).toString(i),ms=async({stdout:t,stderr:e,all:i},{encoding:s,buffer:n,maxBuffer:r},o)=>{let a=fe(t,{encoding:s,buffer:n,maxBuffer:r}),c=fe(e,{encoding:s,buffer:n,maxBuffer:r}),l=fe(i,{encoding:s,buffer:n,maxBuffer:r*2});try{return await Promise.all([o,a,c,l])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},ue(t,a),ue(e,c),ue(i,l)])}};var Id=(async()=>{})().constructor.prototype,Nd=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(Id,t)]),_e=(t,e)=>{for(let[i,s]of Nd){let n=typeof e=="function"?(...r)=>Reflect.apply(s.value,e(),r):s.value.bind(e);Reflect.defineProperty(t,i,{...s,value:n})}},ys=t=>new Promise((e,i)=>{t.on("exit",(s,n)=>{e({exitCode:s,signal:n})}),t.on("error",s=>{i(s)}),t.stdin&&t.stdin.on("error",s=>{i(s)})});var Ns=require("node:buffer"),Ss=require("node:child_process"),Cs=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],Sd=/^[\w.-]+$/,Cd=t=>typeof t!="string"||Sd.test(t)?t:`"${t.replaceAll('"','\\"')}"`,pe=(t,e)=>Cs(t,e).join(" "),de=(t,e)=>Cs(t,e).map(i=>Cd(i)).join(" "),Ls=/ +/g,bs=t=>{let e=[];for(let i of t.trim().split(Ls)){let s=e.at(-1);s&&s.endsWith("\\")?e[e.length-1]=`${s.slice(0,-1)} ${i}`:e.push(i)}return e},As=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(e==="object"&&t!==null&&!(t instanceof Ss.ChildProcess)&&"stdout"in t){let i=typeof t.stdout;if(i==="string")return t.stdout;if(Ns.Buffer.isBuffer(t.stdout))return t.stdout.toString();throw new TypeError(`Unexpected "${i}" stdout in template expression`)}throw new TypeError(`Unexpected "${e}" in template expression`)},Is=(t,e,i)=>i||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],Ld=({templates:t,expressions:e,tokens:i,index:s,template:n})=>{let r=n??t.raw[s],o=r.split(Ls).filter(Boolean),a=Is(i,o,r.startsWith(" "));if(s===e.length)return a;let c=e[s],l=Array.isArray(c)?c.map(u=>As(u)):[As(c)];return Is(a,l,r.endsWith(" "))},Te=(t,e)=>{let i=[];for(let[s,n]of t.entries())i=Ld({templates:t,expressions:e,tokens:i,index:s,template:n});return i};var gs=require("node:util"),Rs=A(require("node:process"),1),Os=(0,gs.debuglog)("execa").enabled,Lt=(t,e)=>String(t).padStart(e,"0"),bd=()=>{let t=new Date;return`${Lt(t.getHours(),2)}:${Lt(t.getMinutes(),2)}:${Lt(t.getSeconds(),2)}.${Lt(t.getMilliseconds(),3)}`},xe=(t,{verbose:e})=>{e&&Rs.default.stderr.write(`[${bd()}] ${t}
`)};var gd=1e3*1e3*100,Rd=({env:t,extendEnv:e,preferLocal:i,localDir:s,execPath:n})=>{let r=e?{...tt.default.env,...t}:t;return i?Pi({env:r,cwd:s,execPath:n}):r},Us=(t,e,i={})=>{let s=Ps.default._parse(t,e,i);return t=s.command,e=s.args,i=s.options,i={maxBuffer:gd,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:i.cwd||tt.default.cwd(),execPath:tt.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:Os,...i},i.env=Rd(i),i.stdio=Wi(i),tt.default.platform==="win32"&&vs.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:i,parsed:s}},et=(t,e,i)=>typeof e!="string"&&!ws.Buffer.isBuffer(e)?i===void 0?void 0:"":t.stripFinalNewline?jt(e):e;function Fs(t,e,i){let s=Us(t,e,i),n=pe(t,e),r=de(t,e);xe(r,s.options),Ji(s.options);let o;try{o=bt.default.spawn(s.file,s.args,s.options)}catch(p){let k=new bt.default.ChildProcess,L=Promise.reject(J({error:p,stdout:"",stderr:"",all:"",command:n,escapedCommand:r,parsed:s,timedOut:!1,isCanceled:!1,killed:!1}));return _e(k,L),k}let a=ys(o),c=Xi(o,s.options,a),l=Zi(o,s.options,c),u={isCanceled:!1};o.kill=ji.bind(null,o.kill.bind(o)),o.cancel=zi.bind(null,o,u);let f=Fi(async()=>{let[{error:p,exitCode:k,signal:L,timedOut:D},w,B,K]=await ms(o,s.options,l),ft=et(s.options,w),$=et(s.options,B),E=et(s.options,K);if(p||k!==0||L!==null){let b=J({error:p,exitCode:k,signal:L,stdout:ft,stderr:$,all:E,command:n,escapedCommand:r,parsed:s,timedOut:D,isCanceled:u.isCanceled||(s.options.signal?s.options.signal.aborted:!1),killed:o.killed});if(!s.options.reject)return b;throw b}return{command:n,escapedCommand:r,exitCode:0,stdout:ft,stderr:$,all:E,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return ks(o,s.options),o.all=Es(o,s.options),is(o),_e(o,f),o}function Od(t,e,i){let s=Us(t,e,i),n=pe(t,e),r=de(t,e);xe(r,s.options);let o=xs(s.options),a;try{a=bt.default.spawnSync(s.file,s.args,{...s.options,input:o})}catch(u){throw J({error:u,stdout:"",stderr:"",all:"",command:n,escapedCommand:r,parsed:s,timedOut:!1,isCanceled:!1,killed:!1})}let c=et(s.options,a.stdout,a.error),l=et(s.options,a.stderr,a.error);if(a.error||a.status!==0||a.signal!==null){let u=J({stdout:c,stderr:l,error:a.error,signal:a.signal,exitCode:a.status,command:n,escapedCommand:r,parsed:s,timedOut:a.error&&a.error.code==="ETIMEDOUT",isCanceled:!1,killed:a.signal!==null});if(!s.options.reject)return u;throw u}return{command:n,escapedCommand:r,exitCode:0,stdout:c,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var Dd=({input:t,inputFile:e,stdio:i})=>t===void 0&&e===void 0&&i===void 0?{stdin:"inherit"}:{},Ds=(t={})=>({preferLocal:!0,...Dd(t),...t});function Ms(t){function e(i,...s){if(!Array.isArray(i))return Ms({...t,...i});let[n,...r]=Te(i,s);return Fs(n,r,Ds(t))}return e.sync=(i,...s)=>{if(!Array.isArray(i))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[n,...r]=Te(i,s);return Od(n,r,Ds(t))},e}var Wx=Ms();function ke(t,e){let[i,...s]=bs(t);return Fs(i,s,e)}var Hs=A(Bt()),Ks=A(require("node:path")),d=require("vscode"),Bs=Ks.default.sep,Ae="lgc.openFile",$s=`command:${Ae}`,Vs="Laravel Goto Controller",Ws=d.window.createOutputChannel(Vs,"log"),gt=new d.EventEmitter,U="";function Rt(t=null){if(t)U=d.workspace.getWorkspaceFolder(t)?.uri.fsPath;else{let e=d.workspace.workspaceFolders;e?.length&&(U=e[0].uri.fsPath||"")}}var Qs,Ee=[];function Ys(t){try{let e=Se(Ee,t);if(!e.length){let i,s,n=Dt(t);if(n){let r=t.split(n);i=r[0],s=r[1]}else if(t.includes("Controller"))i=t,s="__invoke";else return Ie(t,!0);for(let r of Xs(i)){let o=js({filePath:r,query:s});e.push({tooltip:r.replace(U,""),fileUri:d.Uri.parse(`${$s}?${o}`)})}e.length&&Zs(Ee,t,e)}return e}catch(e){Ws.replace(e.message)}}function js(t){return encodeURIComponent(JSON.stringify([t]))}async function zs(t,e){await Gs(t),await ye();let i=d.workspace.createFileSystemWatcher(C.classmap_file);e.push(i.onDidChange((0,Hs.default)(async s=>{await Gs(t),await ye(),me=[],Ee=[]},500)))}function Xs(t){return Qs?.filter(i=>i.namespace.endsWith(t)||i.namespace==t)?.map(i=>i.file)||[]}var Ot=[],g="",me=[];function Ie(t,e=!1){let i=t.replace(/['"]/g,""),s=Se(me,i);if(!s.length){let n=wd(i,e);if(!n.length)return[];for(let r of n){let{uri:o,action:a,method:c}=r;if(a=="Closure")return[];let l,u,_=Dt(a);if(_){let f=a.split(_);l=f[0],u=f[1]}else l=a,u="__invoke";for(let f of Xs(l)){let p=js({filePath:f,query:u});s.push({tooltip:a,fileUri:d.Uri.parse(`${$s}?${p}`)})}c.includes("GET")&&g&&s.push({tooltip:`${g}${o}`,fileUri:d.Uri.parse(`${g}${o}`)})}Zs(me,i,s)}return s}function Dt(t){return tn.find(e=>t.includes(e))}var qs=1;async function ye(){let t;try{let{stdout:e}=await ke(`${C.phpCommand} ${C.routeListCommand}`,{cwd:U,shell:d.env.shell});Ot=JSON.parse(e)}catch(e){if(qs>=3)return Ws.replace(e.message),clearTimeout(t);t=setTimeout(async()=>{qs++,await ye()},2e3)}}async function Gs(t){let e=t.path.replace(`${U}/`,"");try{let i=`${C.phpCommand} -r 'echo json_encode(include("${e}"));'`,{stdout:s}=await ke(i,{cwd:U,shell:d.env.shell});return Qs=Object.entries(JSON.parse(s)).map(([n,r])=>({namespace:n,file:r.startsWith(U)?r:r.replace(new RegExp(`^${C.dockerVolumePath}`,"m"),U)}))}catch{}}function wd(t,e=!1){return Ot.filter(i=>e?i.action===t||i.action.endsWith(t):i.name==t)}async function Js(){g=await d.window.showInputBox({placeHolder:"project APP_URL",value:await d.env.clipboard.readText()||"",validateInput(t){return t?"":"you have to add a name"}}),g&&(g=g.endsWith(Bs)?g:`${g}${Bs}`,gt.fire(gt))}function Ne(t=void 0){if(t!==void 0){let{filePath:e,query:i}=t;d.commands.executeCommand("vscode.open",d.Uri.file(e)).then(async()=>{let s=d.window.activeTextEditor;if(s){let n=await d.commands.executeCommand("vscode.executeDocumentSymbolProvider",s.document.uri),r=vd(i,n);r&&(s.selection=new d.Selection(r.start,r.end),s.revealRange(r,d.TextEditorRevealType.InCenter)),!r&&i&&d.window.showInformationMessage(`${Vs}: Copy Method Name To Clipboard`,"Copy").then(o=>{o&&d.env.clipboard.writeText(i)})}})}}function vd(t,e){let i=e.find(s=>s.kind===d.SymbolKind.Class);if(i)return i=i.children.find(s=>s.kind===d.SymbolKind.Method&&s.name===t),i?.location.range}function Se(t,e){let i=t.find(s=>s.key==e);return i?i.val:[]}function Zs(t,e,i){return Se(t,e).length||t.push({key:e,val:i}),i}var Ce="laravelGotoController",C,Le="",it="",tn=[],be="";function ge(){C=d.workspace.getConfiguration(Ce),Le=C.ignoreControllers.map(t=>V(t)).join("|"),it=C.routeMethods.map(t=>V(t)).join("|"),tn=C.methodSeparator,be=C.showRouteCompletion}var st=class{routes_list;route_methods;app_url;constructor(){this.app_url=g,this.route_methods=it,this.routes_list=Ot.filter(e=>e.name)}provideCompletionItems(e,i){let s=e.lineAt(i).text,n=new RegExp(`(?<=(${this.route_methods})\\()['"].*?['"]`,"g");if(!s.match(n))return;let r=[];for(let o of this.routes_list){let{uri:a,name:c,action:l,method:u}=o;a=`${this.app_url}${a}`;let _=F.Uri.parse(a),f=c.split(".").splice(0,1).join("."),p=new F.MarkdownString(`[${a}](command:vscode.open?${_})`);p.isTrusted=!0;let k=new F.CompletionItem(c,F.CompletionItemKind.Reference);k.filterText=f,k.commitCharacters=["."],k.detail="Laravel GoTo Controller",k.documentation=p.appendCodeblock(`Action: ${l}
---
Type: ${u}`),r.push(k)}return r}};var ct=require("vscode");var g_=A(b_()),at=A(require("vscode")),lT=new g_.Engine({parser:{locations:!0,extractTokens:!0,suppressErrors:!0},ast:{withPositions:!0}});function R_(t){return O_(lT.parseCode(t,"*.php")?.children)}function O_(t){t=t?.filter(i=>i.kind==="expressionstatement");let e=[];for(let i of t){let s=i.expression,n=s.arguments;if(n){if(n.length>1){e.push(n);continue}if(n.length===1&&n[0].body?.children?.length){e.push(...O_(n[0].body?.children));continue}}e.push(s.what.what.arguments)}return e}function D_(t,e){return new at.Range(new at.Position(t.line-1,t.column+1),new at.Position(e.line-1,e.column-1))}var lt=class{ignore_Controllers;route_methods;constructor(){this.ignore_Controllers=Le,this.route_methods=it}async provideDocumentLinks(e){let i=ct.window.activeTextEditor,s=[];if(i){Rt(e.uri);let n=e.getText(),r=new RegExp(`(?<=(${this.route_methods})\\()(['"](.*?)['"])`,"g"),o=n.matchAll(r);for(let a of o){let c=a[3],l=await Ie(c),u=e.getWordRangeAtPosition(e.positionAt(a.index+c.length),new RegExp(V(c)));if(l.length&&u)for(let _ of l){let f=new ct.DocumentLink(u,_.fileUri);f.tooltip=_.tooltip,s.push(f)}}if(e.languageId==="php")try{let a=R_(n);for(let c of a){let l=c[1];if(!l)continue;let u,_=D_(l.loc.start,l.loc.end);if(l.kind==="array"){let f=Dt(e.getText(_));u=l.items[0].value.what.name+f+l.items[1].value.value,u=u.replace("\\",""),l=l.items[1]}else u=l.value;if(u&&!new RegExp(this.ignore_Controllers).test(u)){let f=await Ys(u);if(f.length&&_)for(let p of f){let k=new ct.DocumentLink(_,p.fileUri);k.tooltip=p.tooltip,s.push(k)}}}}catch(a){console.error(a)}}return s}};var Ut=[],ut;async function fT({subscriptions:t}){ge(),t.push(R.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration(Ce)&&ge()})),ut=await R.workspace.findFiles(C.classmap_file,null,1),ut.length&&(Rt(),ut=ut[0],await _T(t),t.push(R.commands.registerCommand("lgc.addAppUrl",Js),R.commands.registerCommand(Ae,Ne)),gt.event(async()=>{await qe(),Be()}))}async function _T(t){await zs(ut,t),Be(),t.push(R.window.onDidChangeActiveTextEditor(async()=>{await qe(),Be()})),Ne()}var Be=(0,w_.default)(()=>{Ut.push(R.languages.registerDocumentLinkProvider(["php","blade"],new lt)),be&&Ut.push(R.languages.registerCompletionItemProvider(["php","blade"],new st))},250);function qe(){return new Promise(t=>{Ut.map(e=>e.dispose()),Ut=[],setTimeout(()=>t(!0),500)})}function pT(){qe()}0&&(module.exports={activate,deactivate});
